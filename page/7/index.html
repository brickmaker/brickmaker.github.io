<!DOCTYPE html>













<html class="theme-next mist" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.3.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Coder love Design">
<meta property="og:type" content="website">
<meta property="og:title" content="Xiaodong&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="Xiaodong&#39;s Blog">
<meta property="og:description" content="Coder love Design">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xiaodong&#39;s Blog">
<meta name="twitter:description" content="Coder love Design">






  <link rel="canonical" href="http://yoursite.com/page/7/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Xiaodong's Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xiaodong's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Coder love Design</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/10/2018-02-10-disjoint-set/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/10/2018-02-10-disjoint-set/" itemprop="url">
                  Disjoint Set 不相交集 相关整理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-02-10 21:44:58" itemprop="dateCreated datePublished" datetime="2018-02-10T21:44:58+08:00">2018-02-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:39:00" itemprop="dateModified" datetime="2018-07-10T13:39:00+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/10/2018-02-10-disjoint-set/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/10/2018-02-10-disjoint-set/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在基础数据结构课程中学到的知识，时隔一年之后，真的是忘得一干二净，这些东西，不用，真的就会忘掉。 在思索图像四联通分量标记时等价表的实现时，不知道怎样高效的实现，经人提醒，才发现这就是不相交集/并查集，惭愧。</p>
<p>做一整理，供日后回顾复习。</p>
<hr>
<h2 id="定义、性质与操作"><a href="#定义、性质与操作" class="headerlink" title="定义、性质与操作"></a>定义、性质与操作</h2><blockquote>
<p><strong>A disjoint-set data structure, also called a union–find data structure or merge–find set, is a data structure that keeps track of a set of elements partitioned into a number of disjoint (non-overlapping) subsets.</strong></p>
</blockquote>
<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><h4 id="Init初始化"><a href="#Init初始化" class="headerlink" title="Init初始化"></a><code>Init</code>初始化</h4><p>给定一些元素，在初始状态，每个都属于不同的集合，初始化的过程就是要体现这一点，这根据实现的不同，会有不同的操作。</p>
<h4 id="Union合并"><a href="#Union合并" class="headerlink" title="Union合并"></a><code>Union</code>合并</h4><p>将两个集合进行合并成为一个集合，即集合中所有的元素有相同的根。</p>
<h4 id="Find查找"><a href="#Find查找" class="headerlink" title="Find查找"></a><code>Find</code>查找</h4><p>找到某个元素的根，目的是确定该元素所属的集合，常用于判断两个元素是否属于一个集合。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>由于要找到它的根，属于一个集合的元素有相同的根，所以可以想到属于一个集合的元素形成一个树，而整个所有集合就是一个森林。</p>
<p>每一棵树不同于查找树，不会要求从根节点出发找到子节点的元素，只需要给定子节点，找到根，所以每个节点最基本的只需要记录两个值：</p>
<ol>
<li>自己所表示的元素</li>
<li>自己的父元素</li>
</ol>
<p>这样的信息用数组就可以实现：</p>
<p><strong>数组的下标本身就可以表示自己，数组中存的值可以记录父节点。</strong></p>
<h4 id="关于根节点存储的值"><a href="#关于根节点存储的值" class="headerlink" title="关于根节点存储的值"></a>关于根节点存储的值</h4><p>这真的是一个很有趣的问题，子节点存储父节点无疑，但根节点存什么呢？根据自己的需求，可以存相应的值。</p>
<p><strong>1. 0</strong></p>
<p>根节点存0值，表示其是根节点。</p>
<p><strong>2. 本元素</strong></p>
<p>存本元素的值，这样，如果是根节点，则自己与自己所存的值相同，否则为非根节点。</p>
<hr>
<p>在后续的查找与合并的优化过程中，会用到树的size或height/rank. 所以跟节点会根据需要记录这些值，所以，根节点还可以记录：</p>
<p><strong>3. -size</strong></p>
<p>运用负值，可以区分根节点和非根节点，同时又可以表示树的size，初始化的时候，给每个元素都赋值为-1.</p>
<p><strong>4. -rank/height</strong></p>
<p>类似-size.</p>
<h3 id="操作-1"><a href="#操作-1" class="headerlink" title="操作"></a>操作</h3><p>实现方式多样，不同的优化方式也有不同的效果。</p>
<h4 id="Naive-Solution"><a href="#Naive-Solution" class="headerlink" title="Naive Solution"></a>Naive Solution</h4><p>没有路径压缩，Naive Union，根节点存0值。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setInit</span><span class="params">(<span class="keyword">int</span> size)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= size; ++i) &#123;</div><div class="line">        <span class="built_in">set</span>[i] = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setUnion</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="built_in">set</span>[a] = b;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">setFind</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">set</span>[a] == <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> a;</div><div class="line">    <span class="keyword">return</span> setFind(<span class="built_in">set</span>[a]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Union-by-size-path-compression"><a href="#Union-by-size-path-compression" class="headerlink" title="Union by size + path compression"></a>Union by size + path compression</h4><p>根节点初始值为-1，存储-size。<br>每次查找的时候，都执行路径压缩。<br>在union的时候，也先进行查找。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setInit</span><span class="params">(<span class="keyword">int</span> size)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= size; ++i) &#123;</div><div class="line">        <span class="built_in">set</span>[i] = <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">setFind</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">set</span>[a] &lt; <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> a;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">set</span>[a] = setFind(<span class="built_in">set</span>[a]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">setUnion</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> root1 = setFind(a);</div><div class="line">    <span class="keyword">int</span> root2 = setFind(b);</div><div class="line">    <span class="keyword">if</span> (root1 == root2)</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">set</span>[root1] &lt;= <span class="built_in">set</span>[root2]) &#123;</div><div class="line">        <span class="built_in">set</span>[root1] += <span class="built_in">set</span>[root2];</div><div class="line">        <span class="built_in">set</span>[root2] = root1;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">set</span>[root2] += <span class="built_in">set</span>[root1];</div><div class="line">        <span class="built_in">set</span>[root1] = root2;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h2><p>结论：带路径压缩，amortized time: O(1)</p>
<p>TODO…看完算法导论有关的那一章再写…</p>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>求连通分量，再合适不过了…</p>
<p>LeetCode上有一道四连通分量的题：<a href="https://leetcode.com/problems/number-of-islands/description/" target="_blank" rel="external">LeetCode 200. Number of Islands</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">setFind</span><span class="params">(<span class="keyword">int</span> x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;<span class="built_in">set</span>)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">set</span>[x] &lt; <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> x;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">set</span>[x] = setFind(<span class="built_in">set</span>[x], <span class="built_in">set</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setUnion</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;<span class="built_in">set</span>)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> root1 = setFind(x, <span class="built_in">set</span>);</div><div class="line">        <span class="keyword">int</span> root2 = setFind(y, <span class="built_in">set</span>);</div><div class="line">        <span class="keyword">if</span> (root1 == root2)</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">set</span>[root1] &lt; <span class="built_in">set</span>[root2]) &#123;</div><div class="line">            <span class="built_in">set</span>[root1] += <span class="built_in">set</span>[root2];</div><div class="line">            <span class="built_in">set</span>[root2] = root1;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">set</span>[root2] += <span class="built_in">set</span>[root1];</div><div class="line">            <span class="built_in">set</span>[root1] = root2;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; setInit(<span class="keyword">int</span> size) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(size, <span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countSet</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;<span class="built_in">set</span>)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> count_if(<span class="built_in">set</span>.begin(), <span class="built_in">set</span>.end(), [](<span class="keyword">int</span> x) &#123; <span class="keyword">return</span> x &lt; <span class="number">0</span>; &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; &amp;grid)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (grid.empty())</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> tagNum = <span class="number">-1</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; tags(grid.size(), <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(grid[<span class="number">0</span>].size(), <span class="number">-1</span>));</div><div class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; equals;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.size(); i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].size(); j++) &#123;</div><div class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">'0'</span>)</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i - <span class="number">1</span>][j] == <span class="string">'1'</span> &amp;&amp; j - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i][j - <span class="number">1</span>] == <span class="string">'1'</span>) &#123;</div><div class="line">                    tags[i][j] = tags[i][j - <span class="number">1</span>];</div><div class="line">                    <span class="keyword">if</span> (tags[i][j - <span class="number">1</span>] != tags[i - <span class="number">1</span>][j])</div><div class="line">                        equals.emplace_back(tags[i][j - <span class="number">1</span>], tags[i - <span class="number">1</span>][j]);</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i - <span class="number">1</span>][j] == <span class="string">'1'</span>) &#123;</div><div class="line">                    tags[i][j] = tags[i - <span class="number">1</span>][j];</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[i][j - <span class="number">1</span>] == <span class="string">'1'</span>) &#123;</div><div class="line">                    tags[i][j] = tags[i][j - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    tagNum++;</div><div class="line">                    tags[i][j] = tagNum;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (tagNum == <span class="number">-1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (tagNum == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">set</span> = setInit(tagNum + <span class="number">1</span>);</div><div class="line">        <span class="keyword">for</span> (pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p : equals) &#123;</div><div class="line">            setUnion(p.first, p.second, <span class="built_in">set</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> countSet(<span class="built_in">set</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><blockquote>
<p>数据结构与算法分析（C语言描述）第二版<br><a href="https://en.wikipedia.org/wiki/Disjoint-set_data_structure" target="_blank" rel="external">https://en.wikipedia.org/wiki/Disjoint-set_data_structure</a><br><a href="https://www.jianshu.com/p/def7767982ac" target="_blank" rel="external">https://www.jianshu.com/p/def7767982ac</a><br><a href="http://blog.csdn.net/dm_vincent/article/details/7655764" target="_blank" rel="external">http://blog.csdn.net/dm_vincent/article/details/7655764</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/01/2018-02-01-binary-tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/01/2018-02-01-binary-tree/" itemprop="url">
                  Binary Search Tree 相关算法总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-02-01 10:10:46" itemprop="dateCreated datePublished" datetime="2018-02-01T10:10:46+08:00">2018-02-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:50" itemprop="dateModified" datetime="2018-07-10T13:38:50+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/01/2018-02-01-binary-tree/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/01/2018-02-01-binary-tree/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这些基础总是学了，长时间不看又忘了，这次写一篇文章记录下来，供日后回顾复习。</p>
<hr>
<h2 id="基本性质"><a href="#基本性质" class="headerlink" title="基本性质"></a>基本性质</h2><p>首先是一个二叉树，数据结构：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    Node *left;</div><div class="line">    Node *right;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>作为搜索树的性质：左子树节点的值 &lt;= 根节点的值 &lt;= 右子树节点的值</p>
<h2 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h2><h3 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h3><p>对于二叉搜索树来说，中序遍历输出的就是从小到大的顺序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">inorder_walk(node):</div><div class="line">    <span class="keyword">if</span> node != nil</div><div class="line">        inorder_walk(node.left)</div><div class="line">        <span class="keyword">print</span> node.val</div><div class="line">        inorder_walk(node.right)</div></pre></td></tr></table></figure>
<p>CPP实现：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorder_walk</span><span class="params">(Node * node)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node) &#123;</div><div class="line">        inorder_walk(node-&gt;left);</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; node-&gt;val &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">        inorder_walk(node-&gt;right);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>遍历的话，用递归的方式都很直观，但如果用迭代的方式，就稍微有些麻烦，借助栈可以记录之前遍历的状态，进而实现中序遍历：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">inorder_walk(node):</div><div class="line">    stack s</div><div class="line">    root = node</div><div class="line">    <span class="keyword">while</span> !(s.empty() <span class="keyword">and</span> root == nil) <span class="comment"># 结束的状态需要两个条件！！！</span></div><div class="line">        <span class="keyword">while</span> root != nil</div><div class="line">            s.push(root) <span class="comment"># 先把所有的左节点进栈</span></div><div class="line">            root = root.left</div><div class="line">        </div><div class="line">        root = s.top()</div><div class="line">        <span class="keyword">print</span> root.val</div><div class="line">        s.pop()</div><div class="line">        root = root.right</div></pre></td></tr></table></figure>
<p>CPP的实现，这里LeetCode上的题<a href="https://leetcode.com/problems/binary-tree-inorder-traversal/description/" target="_blank" rel="external">94. Binary Tree Inorder Traversal</a>正好可以用以验证，就直接复制自己的答案了：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; inorderTraversal(TreeNode* root) &#123;</div><div class="line">    <span class="built_in">stack</span>&lt;TreeNode *&gt; s;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">    <span class="keyword">while</span> (!(root == <span class="literal">NULL</span> &amp;&amp; s.empty())) &#123;</div><div class="line">        <span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</div><div class="line">            s.push(root);</div><div class="line">            root = root-&gt;left;</div><div class="line">        &#125;</div><div class="line">        root = s.top();</div><div class="line">        res.push_back(root-&gt;val);</div><div class="line">        s.pop();</div><div class="line">        root = root-&gt;right;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h3><p>先输出根的值，再输出左右的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">preorder_walk(node):</div><div class="line">    <span class="keyword">if</span> node != nil</div><div class="line">        <span class="keyword">print</span> node.val</div><div class="line">        preorder_walk(node.left)</div><div class="line">        preorder_walk(node.right)</div></pre></td></tr></table></figure>
<p>非递归可以用中序同样的方式来遍历，但是输出的时机不同应该就可以了。<br><a href="https://leetcode.com/problems/binary-tree-preorder-traversal/description/" target="_blank" rel="external">144. Binary Tree Preorder Traversal
</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; preorderTraversal(TreeNode* root) &#123;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div><div class="line">    <span class="built_in">stack</span>&lt;TreeNode *&gt; s;</div><div class="line">    <span class="keyword">while</span> (!(root == <span class="literal">NULL</span> &amp;&amp; s.empty())) &#123;</div><div class="line">        <span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</div><div class="line">            res.push_back(root-&gt;val);</div><div class="line">            s.push(root);</div><div class="line">            root = root-&gt;left;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        root = s.top();</div><div class="line">        root = root-&gt;right;</div><div class="line">        s.pop();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其实在遍历过程中时使用迭代时，同样有递归的思想在里边，将root调整到右节点上，便相当于把右子树当做一个新的二叉树来进行处理，这种思想在构造迭代的时候还是很有用的。</p>
<h3 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h3><p>先输出孩子的值，再输出根的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">postorder_walk(node):</div><div class="line">    <span class="keyword">if</span> node != nil</div><div class="line">        postorder_walk(node.left)</div><div class="line">        postorder_walk(node.right)</div><div class="line">        <span class="keyword">print</span> node.val</div></pre></td></tr></table></figure>
<p>非递归的算法自己还的确没有想出来，不过看了LeetCode上的Discussion：<a href="https://leetcode.com/problems/binary-tree-postorder-traversal/discuss/45551" target="_blank" rel="external">Preorder, Inorder, and Postorder Iteratively Summarization</a>. 哇，的确没有注意到这一个性质。</p>
<p><strong>前序遍历的时候，最先输出的是从根节点一直到最左叶节点的一列；而后序遍历的时候，最后输出的，就是从最右叶节点到根节点的最后一列！</strong>如图所示：</p>
<p><img src="/media/15174591717184.jpg" alt=""></p>
<p>左为前序遍历，右为后序遍历，可以清楚的看到这个遍历顺序的性质！！</p>
<p>这样在实现的时候，便可以参照前序遍历，相反对称操作下，可以得到后序遍历的结果！</p>
<p>CPP的实现：<a href="https://leetcode.com/problems/binary-tree-postorder-traversal/description/" target="_blank" rel="external">LeetCode 145. Binary Tree Postorder Traversal</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; postorderTraversal(TreeNode* root) &#123;</div><div class="line">    <span class="built_in">stack</span>&lt;TreeNode *&gt; s;</div><div class="line">    <span class="keyword">while</span> (!(root == <span class="literal">NULL</span> &amp;&amp; s.empty())) &#123;</div><div class="line">        <span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</div><div class="line">            res.push_back(root-&gt;val);</div><div class="line">            s.push(root);</div><div class="line">            root = root-&gt;right;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        root = s.top();</div><div class="line">        root = root-&gt;left;</div><div class="line">        s.pop();</div><div class="line">    &#125;</div><div class="line">    reverse(res.begin(), res.end());</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="层级遍历"><a href="#层级遍历" class="headerlink" title="层级遍历"></a>层级遍历</h3><p>层级遍历的话，用一个队列来存储每个节点，当出队列时，把它的两个孩子入队列，直到队列为空。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">levelorder_walk(root):</div><div class="line">    <span class="keyword">if</span> root == nil</div><div class="line">        <span class="keyword">return</span></div><div class="line">    queue q</div><div class="line">    q.push(root)</div><div class="line">    <span class="keyword">while</span> q <span class="keyword">not</span> empty</div><div class="line">        node = q.front()</div><div class="line">        <span class="keyword">print</span> node.val</div><div class="line">        q.pop()</div><div class="line">        <span class="keyword">if</span> node.left != nil</div><div class="line">            q.push(node.left)</div><div class="line">        <span class="keyword">if</span> node.right != nil</div><div class="line">            q.push(node.right)</div></pre></td></tr></table></figure>
<p>CPP实现，<a href="https://leetcode.com/problems/binary-tree-level-order-traversal/description/" target="_blank" rel="external">LeetCode 102. Binary Tree Level Order Traversal</a><br>由于这道题要求区分每一层，所以用了两个不同的queue来记录每一层的节点，不过思想大致相同。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for a binary tree node.</div><div class="line"> * struct TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode *left;</div><div class="line"> *     TreeNode *right;</div><div class="line"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</div><div class="line"> * &#125;;</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) &#123;</div><div class="line">        <span class="built_in">queue</span>&lt;TreeNode*&gt; q1, q2;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        q1.push(root);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vals;</div><div class="line">        <span class="keyword">while</span> (!q1.empty()) &#123;</div><div class="line">            TreeNode* node = q1.front();</div><div class="line">            q1.pop();</div><div class="line">            vals.push_back(node-&gt;val);</div><div class="line">            <span class="keyword">if</span> (node-&gt;left)</div><div class="line">                q2.push(node-&gt;left);</div><div class="line">            <span class="keyword">if</span> (node-&gt;right)</div><div class="line">                q2.push(node-&gt;right);</div><div class="line">            <span class="keyword">if</span> (q1.empty()) &#123;</div><div class="line">                res.push_back(vals);</div><div class="line">                <span class="keyword">if</span> (!q2.empty()) &#123;</div><div class="line">                    vals.clear();</div><div class="line">                    <span class="keyword">while</span>(!q2.empty()) &#123;</div><div class="line">                        q1.push(q2.front());</div><div class="line">                        q2.pop();</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="深度遍历"><a href="#深度遍历" class="headerlink" title="深度遍历"></a>深度遍历</h3><p>深度遍历是最普通最直观的二叉树遍历，其一般都结合具体的需求使用，比如查找，确定高度等等。</p>
<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><p>利用搜索树的性质，查找很直观：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">search(root, key):</div><div class="line">    <span class="keyword">if</span> root == nil <span class="keyword">or</span> key == root.val</div><div class="line">        <span class="keyword">return</span> root</div><div class="line">    <span class="keyword">if</span> key &lt; root.val</div><div class="line">        <span class="keyword">return</span> search(root.left, key)</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> search(root.right, key)</div></pre></td></tr></table></figure>
<p>非递归的方式也很直观，因为上述的递归是尾递归：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">search(root, key):</div><div class="line">    <span class="keyword">while</span> root != nil <span class="keyword">and</span> key != root.val</div><div class="line">        <span class="keyword">if</span> key &lt; root.val</div><div class="line">            root = root.left</div><div class="line">        <span class="keyword">else</span></div><div class="line">            root = root.right</div><div class="line">    <span class="keyword">return</span> root</div></pre></td></tr></table></figure>
<h2 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h2><p>二叉搜索树的插入只是在查找的基础上做一点微小的改动。因为查找已经找到了对应的位置，只要在找到的位置上放上新的值即可。</p>
<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><p>BST的删除需要考虑几个情况：</p>
<ol>
<li>叶节点：直接删掉</li>
<li>只有一个子节点：删掉，子节点顶替删除的节点的位置</li>
<li>有两个孩子：删掉，用左子树的最大节点或右子树的最小节点顶替</li>
</ol>
<p>描述起来很清楚，但是真正写起来，需要考虑具体的一些细节，比如根节点的情况，比如如何去做“顶替”这一操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">delete(root, key):</div><div class="line">    <span class="keyword">if</span> root == nil</div><div class="line">        <span class="keyword">return</span> nil</div><div class="line">    <span class="keyword">if</span> key &lt; root.val</div><div class="line">        root = delete(root.left, key)</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> key &gt; root.val</div><div class="line">        root = delete(root.right, key)</div><div class="line">    <span class="keyword">else</span> <span class="comment"># find node to delete</span></div><div class="line">        <span class="comment"># 以下的两种情况涵盖了都是nil的情况，这是实践中的一点小小的hack吧</span></div><div class="line">        <span class="keyword">if</span> root.left == nil</div><div class="line">            <span class="keyword">return</span> root.right</div><div class="line">        <span class="keyword">if</span> root.right == nil</div><div class="line">            <span class="keyword">return</span> root.left</div><div class="line">        right_min = find_min(root.right)</div><div class="line">        root.val = right_min.val</div><div class="line">        root.right = delete(root.right, root.val) <span class="comment"># 注意，更新的这一点，要考虑各种情况，而不能只是将它变为nil</span></div><div class="line">    <span class="keyword">return</span> root</div><div class="line"></div><div class="line">find_min(root):</div><div class="line">    <span class="keyword">while</span> root != nil <span class="keyword">and</span> root.left != nil</div><div class="line">        root = root.left</div><div class="line">    <span class="keyword">return</span> root</div></pre></td></tr></table></figure>
<p>CPP实现，<a href="https://leetcode.com/problems/delete-node-in-a-bst/description/" target="_blank" rel="external">LeetCode 450. Delete Node in a BST</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for a binary tree node.</div><div class="line"> * struct TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode *left;</div><div class="line"> *     TreeNode *right;</div><div class="line"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</div><div class="line"> * &#125;;</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="function">TreeNode* <span class="title">findMin</span><span class="params">(TreeNode* root)</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (root != <span class="literal">NULL</span> &amp;&amp; root-&gt;left != <span class="literal">NULL</span>)</div><div class="line">            root = root-&gt;left;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function">TreeNode* <span class="title">deleteNode</span><span class="params">(TreeNode* root, <span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</div><div class="line">            <span class="keyword">return</span> root;</div><div class="line">        <span class="keyword">if</span> (key &lt; root-&gt;val)</div><div class="line">            root-&gt;left = deleteNode(root-&gt;left, key);</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; root-&gt;val)</div><div class="line">            root-&gt;right = deleteNode(root-&gt;right, key);</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (root-&gt;left == <span class="literal">NULL</span>)</div><div class="line">                <span class="keyword">return</span> root-&gt;right;</div><div class="line">            <span class="keyword">if</span> (root-&gt;right == <span class="literal">NULL</span>)</div><div class="line">                <span class="keyword">return</span> root-&gt;left;</div><div class="line">            TreeNode* rightMin = findMin(root-&gt;right);</div><div class="line">            root-&gt;val = rightMin-&gt;val;</div><div class="line">            root-&gt;right = deleteNode(root-&gt;right, root-&gt;val);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>关于迭代的方式去实现删除的话，可能要比递归考虑更多的东西，但是想法的话还是很直观的，遍历查找要删除的节点时，始终记得记录其父节点。具体的删除过程与上述的大同小异，可能会有好多边界需要考虑。</p>
<h2 id="建立"><a href="#建立" class="headerlink" title="建立"></a>建立</h2><h3 id="从数组"><a href="#从数组" class="headerlink" title="从数组"></a>从数组</h3><h4 id="给定结构"><a href="#给定结构" class="headerlink" title="给定结构"></a>给定结构</h4><p>确定一个二叉树，有两个要素，一个是二叉树的结构，另一个是各个节点的值，给定的数组确定了BST的值，但结构是未定的，根据给定的结构，可以构建一个确定的BST。</p>
<p><a href="https://www.patest.cn/contests/pat-a-practise/1099" target="_blank" rel="external">PAT 1099. Build A Binary Search Tree</a></p>
<p>根据二叉树的性质：<strong>中序遍历的输出顺序为升序</strong>。<br>先建立了二叉树结构之后，再进行中序遍历填入值就可以了。</p>
<p>以下为自己的代码，但是<strong>部分正确，有段错误！！！</strong>自己还没有找到错误所在。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">struct Node &#123;</div><div class="line">    int val;</div><div class="line">    Node *left;</div><div class="line">    Node *right;</div><div class="line"></div><div class="line">    Node() : val(0), left(NULL), right(NULL) &#123;&#125;</div><div class="line"></div><div class="line">    explicit Node(int val) : val(val), left(NULL), right(NULL) &#123;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">void printTree(Node *root, int level) &#123;</div><div class="line">    if (root != NULL) &#123;</div><div class="line">        cout &lt;&lt; root-&gt;val &lt;&lt; endl;</div><div class="line">        if (!(root-&gt;left == NULL &amp;&amp; root-&gt;right == NULL)) &#123;</div><div class="line">            for (int i = 0; i &lt; level + 1; ++i) &#123;</div><div class="line">                cout &lt;&lt; "   ";</div><div class="line">            &#125;</div><div class="line">            cout &lt;&lt; "L-&gt;";</div><div class="line">            printTree(root-&gt;left, level + 1);</div><div class="line">            for (int i = 0; i &lt; level + 1; ++i) &#123;</div><div class="line">                cout &lt;&lt; "   ";</div><div class="line">            &#125;</div><div class="line">            cout &lt;&lt; "R-&gt;";</div><div class="line">            printTree(root-&gt;right, level + 1);</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;</div><div class="line">        cout &lt;&lt; "NULL" &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void levelOrderTravel(Node *root) &#123;</div><div class="line">    if (!root)</div><div class="line">        return;</div><div class="line">    cout &lt;&lt; root-&gt;val;</div><div class="line">    queue&lt;Node *&gt; q;</div><div class="line">    if (root-&gt;left)</div><div class="line">        q.push(root-&gt;left);</div><div class="line">    if (root-&gt;right)</div><div class="line">        q.push(root-&gt;right);</div><div class="line">    while (!q.empty()) &#123;</div><div class="line">        Node *node = q.front();</div><div class="line">        q.pop();</div><div class="line">        cout &lt;&lt; " " &lt;&lt; node-&gt;val;</div><div class="line">        if (node-&gt;left)</div><div class="line">            q.push(node-&gt;left);</div><div class="line">        if (node-&gt;right)</div><div class="line">            q.push(node-&gt;right);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main() &#123;</div><div class="line">    Node *root = new Node(0);</div><div class="line">    int nodeNum;</div><div class="line">    cin &gt;&gt; nodeNum;</div><div class="line">    if (nodeNum == 0)</div><div class="line">        return 0;</div><div class="line">    stack&lt;Node *&gt; s;</div><div class="line">    s.push(root);</div><div class="line">    for (int i = 0; i &lt; nodeNum; ++i) &#123;</div><div class="line">        int l, r;</div><div class="line">        cin &gt;&gt; l &gt;&gt; r;</div><div class="line">        Node *node = s.top();</div><div class="line">        s.pop();</div><div class="line">        if (r != -1) &#123;</div><div class="line">            node-&gt;right = new Node(r);</div><div class="line">            s.push(node-&gt;right);</div><div class="line">        &#125;</div><div class="line">        if (l != -1) &#123;</div><div class="line">            node-&gt;left = new Node(l);</div><div class="line">            s.push(node-&gt;left);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    vector&lt;int&gt; vals;</div><div class="line">    for (int i = 0; i &lt; nodeNum; ++i) &#123;</div><div class="line">        int v;</div><div class="line">        cin &gt;&gt; v;</div><div class="line">        vals.push_back(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    sort(vals.begin(), vals.end());</div><div class="line"></div><div class="line">//    printTree(root, 0);</div><div class="line"></div><div class="line">    vector&lt;Node *&gt; nodes;</div><div class="line">    stack&lt;Node *&gt; s1;</div><div class="line"></div><div class="line">    Node *curr = root;</div><div class="line"></div><div class="line">    while (!s1.empty() || curr != NULL) &#123;</div><div class="line">        while (curr != NULL) &#123;</div><div class="line">            s1.push(curr);</div><div class="line">            curr = curr-&gt;left;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        curr = s1.top();</div><div class="line">        s1.pop();</div><div class="line">        nodes.push_back(curr);</div><div class="line">        curr = curr-&gt;right;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    for (int i = 0; i &lt; nodes.size(); ++i) &#123;</div><div class="line">        nodes[i]-&gt;val = vals[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    levelOrderTravel(root);</div><div class="line"></div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h4><p>如果限定是生成一个平衡二叉树的话，需要保证两边的相对均衡，将数组排序之后，每次取中点就可以做到：</p>
<p><a href="https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/description/" target="_blank" rel="external">LeetCode 108. Convert Sorted Array to Binary Search Tree</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function">TreeNode* <span class="title">sortedArrayToBST</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums.empty())</div><div class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">        <span class="keyword">int</span> midIdx = nums.size() / <span class="number">2</span>;</div><div class="line">        TreeNode *node = <span class="keyword">new</span> TreeNode(nums[midIdx]);</div><div class="line">        <span class="keyword">if</span> (midIdx == <span class="number">0</span>) &#123;</div><div class="line">            node-&gt;left = <span class="literal">NULL</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; left(nums.begin(), nums.begin() + midIdx);</div><div class="line">            node-&gt;left = sortedArrayToBST(left);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (midIdx == nums.size() - <span class="number">1</span>) &#123;</div><div class="line">            node-&gt;right = <span class="literal">NULL</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; right(nums.begin() + midIdx + <span class="number">1</span>, nums.end());</div><div class="line">            node-&gt;right = sortedArrayToBST(right);            </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h4><p>完全二叉树的结构是确定的，所以仍然可以采用从给定结构构建二叉树的方法：</p>
<p><a href="https://www.patest.cn/contests/pat-a-practise/1064" target="_blank" rel="external">PAT 1064. Complete Binary Search Tree</a></p>
<p>我在PAT上的解答，<strong>部分正确！！有内存超限的错误！！！</strong>唔，怎么在PAT上做的这两道题，都有各种各样奇怪的错误，唉，有时间再看吧。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Created by Zhao Xiaodong on 2018/2/1.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    Node *left;</div><div class="line">    Node *right;</div><div class="line"></div><div class="line">    Node() : val(<span class="number">0</span>), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>) &#123;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">levelOrderTravel</span><span class="params">(Node *root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!root)</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;val;</div><div class="line">    <span class="built_in">queue</span>&lt;Node *&gt; q;</div><div class="line">    <span class="keyword">if</span> (root-&gt;left)</div><div class="line">        q.push(root-&gt;left);</div><div class="line">    <span class="keyword">if</span> (root-&gt;right)</div><div class="line">        q.push(root-&gt;right);</div><div class="line">    <span class="keyword">while</span> (!q.empty()) &#123;</div><div class="line">        Node *node = q.front();</div><div class="line">        q.pop();</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; node-&gt;val;</div><div class="line">        <span class="keyword">if</span> (node-&gt;left)</div><div class="line">            q.push(node-&gt;left);</div><div class="line">        <span class="keyword">if</span> (node-&gt;right)</div><div class="line">            q.push(node-&gt;right);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> size;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; size;</div><div class="line">    <span class="keyword">if</span> (size == <span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vals;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</div><div class="line">        <span class="keyword">int</span> v;</div><div class="line">        <span class="built_in">cin</span> &gt;&gt; v;</div><div class="line">        vals.push_back(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    sort(vals.begin(), vals.end());</div><div class="line"></div><div class="line">    Node *root = <span class="keyword">new</span> Node();</div><div class="line"></div><div class="line">    <span class="built_in">queue</span>&lt;Node *&gt; q;</div><div class="line">    q.push(root);</div><div class="line"></div><div class="line">    <span class="keyword">int</span> nodeNum = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">        Node *node = q.front();</div><div class="line">        q.pop();</div><div class="line">        node-&gt;left = <span class="keyword">new</span> Node();</div><div class="line">        nodeNum++;</div><div class="line">        <span class="keyword">if</span> (nodeNum == size)</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        node-&gt;right = <span class="keyword">new</span> Node();</div><div class="line">        nodeNum++;</div><div class="line">        <span class="keyword">if</span> (nodeNum == size)</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        q.push(node-&gt;left);</div><div class="line">        q.push(node-&gt;right);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">vector</span>&lt;Node *&gt; nodes;</div><div class="line">    <span class="built_in">stack</span>&lt;Node *&gt; s1;</div><div class="line"></div><div class="line">    Node *curr = root;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (!s1.empty() || curr != <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">while</span> (curr != <span class="literal">NULL</span>) &#123;</div><div class="line">            s1.push(curr);</div><div class="line">            curr = curr-&gt;left;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        curr = s1.top();</div><div class="line">        s1.pop();</div><div class="line">        nodes.push_back(curr);</div><div class="line">        curr = curr-&gt;right;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nodes.size(); ++i) &#123;</div><div class="line">        nodes[i]-&gt;val = vals[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    levelOrderTravel(root);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>参考了网上某篇博文的这道题的答案，发现自己这样写有点傻，利用性质完全二叉树的相关性质，可以更加简便和巧妙的完成这道题。</p>
<p>因为最后要求层级遍历，而完全二叉树的层级遍历有个性质可以利用：<br><strong>按层遍历的输出顺序，就是用表示完全二叉树的数组中的顺序</strong></p>
<p>这看起来并没有什么，但和我们知道的一个完全二叉树非常熟悉的性质：<br><strong>leftIndex = 2 x rootIndex, rightIndex = 2 x rootIndex + 1</strong></p>
<p>这样一来，便可以用下表来定位某个元素，而用数组的数据结构存储二叉树，其实遍历的行为更加简单，比如本题中用到的中序遍历：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorderTravel</span><span class="params">(<span class="keyword">int</span> root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root &gt; size)</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    inorderTravel(root * <span class="number">2</span>);</div><div class="line">    inorderNodes.push_back(root);</div><div class="line">    inorderTravel(root * <span class="number">2</span> + <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>完整解答：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Created by Zhao Xiaodong on 2018/2/2.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1000</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> size;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; inorderNodes;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inorderTravel</span><span class="params">(<span class="keyword">int</span> root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root &gt; size)</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    inorderTravel(root * <span class="number">2</span>);</div><div class="line">    inorderNodes.push_back(root);</div><div class="line">    inorderTravel(root * <span class="number">2</span> + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; size;</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vals;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</div><div class="line">        <span class="keyword">int</span> v;</div><div class="line">        <span class="built_in">cin</span> &gt;&gt; v;</div><div class="line">        vals.push_back(v);</div><div class="line">    &#125;</div><div class="line">    sort(vals.begin(), vals.end());</div><div class="line"></div><div class="line">    inorderTravel(<span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree(MAX + <span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</div><div class="line">        tree[inorderNodes[i]] = vals[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; ++i) &#123;</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; tree[i] &lt;&lt; <span class="string">" "</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; tree[size];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="从序列"><a href="#从序列" class="headerlink" title="从序列"></a>从序列</h3><h4 id="从前序中序构建"><a href="#从前序中序构建" class="headerlink" title="从前序中序构建"></a>从前序中序构建</h4><p>前序中找到第一个节点，即为根节点，在中序中找到，中序的左侧就是左子树，右侧为右子树；得到左右子树的节点数量之后，可以将前序数组剩下的元素分成左右子树，进而递归的做下去。</p>
<p><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/description/" target="_blank" rel="external">LeetCode 105. Construct Binary Tree from Preorder and Inorder Traversal</a></p>
<p>（发现自己之前CPP和Python都AC过，python似乎看起来更简洁，要不以后做OJ都用PY？）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Definition for a binary tree node.</span></div><div class="line"><span class="comment"># class TreeNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.left = None</span></div><div class="line"><span class="comment">#         self.right = None</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, preorder, inorder)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type preorder: List[int]</div><div class="line">        :type inorder: List[int]</div><div class="line">        :rtype: TreeNode</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> inorder:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        root_val = preorder.pop(<span class="number">0</span>)</div><div class="line">        root_idx = inorder.index(root_val)</div><div class="line">        root = TreeNode(root_val)</div><div class="line">        root.left = self.buildTree(preorder, inorder[<span class="number">0</span>:root_idx])</div><div class="line">        root.right = self.buildTree(preorder, inorder[root_idx + <span class="number">1</span>:])</div><div class="line">        <span class="keyword">return</span> root</div></pre></td></tr></table></figure>
<h4 id="从后序中序构建"><a href="#从后序中序构建" class="headerlink" title="从后序中序构建"></a>从后序中序构建</h4><p>与从前中构建很类似，做一个镜像即可：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Definition for a binary tree node.</span></div><div class="line"><span class="comment"># class TreeNode:</span></div><div class="line"><span class="comment">#     def __init__(self, x):</span></div><div class="line"><span class="comment">#         self.val = x</span></div><div class="line"><span class="comment">#         self.left = None</span></div><div class="line"><span class="comment">#         self.right = None</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, inorder, postorder)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type inorder: List[int]</div><div class="line">        :type postorder: List[int]</div><div class="line">        :rtype: TreeNode</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> inorder:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        val = postorder.pop()</div><div class="line">        idx = inorder.index(val)</div><div class="line">        root = TreeNode(val)</div><div class="line">        root.right = self.buildTree(inorder[idx + <span class="number">1</span>:], postorder)</div><div class="line">        root.left = self.buildTree(inorder[:idx], postorder)</div><div class="line">        <span class="keyword">return</span> root</div></pre></td></tr></table></figure>
<h4 id="前中转后与后中转前"><a href="#前中转后与后中转前" class="headerlink" title="前中转后与后中转前"></a>前中转后与后中转前</h4><p>有的时候，只要求通过前中序列写出后序，或者后中序列，写出前序，而不要求构建BST，这个时候可以更简便的完成而不用做多余的工作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">pre_in_to_post</span><span class="params">(preorder, inorder)</span>:</span></div><div class="line">    postorder = []</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> preorder <span class="keyword">or</span> <span class="keyword">not</span> inorder:</div><div class="line">        <span class="keyword">return</span> postorder</div><div class="line">    val = preorder[<span class="number">0</span>]</div><div class="line">    idx = inorder.index(val)</div><div class="line">    postorder += pre_in_to_post(preorder[<span class="number">1</span>:<span class="number">1</span> + idx], inorder[:idx])</div><div class="line">    postorder += pre_in_to_post(preorder[<span class="number">1</span> + idx:], inorder[idx + <span class="number">1</span>:])</div><div class="line">    postorder += [val]</div><div class="line">    <span class="keyword">return</span> postorder</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_in_to_pre</span><span class="params">(postorder, inorder)</span>:</span></div><div class="line">    preorder = []</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> postorder <span class="keyword">or</span> <span class="keyword">not</span> inorder:</div><div class="line">        <span class="keyword">return</span> preorder</div><div class="line">    val = postorder[<span class="number">-1</span>]</div><div class="line">    idx = inorder.index(val)</div><div class="line">    preorder += [val]</div><div class="line">    preorder += post_in_to_pre(postorder[:idx], inorder[:idx])</div><div class="line">    preorder += post_in_to_pre(postorder[idx:<span class="number">-1</span>], inorder[idx + <span class="number">1</span>:])</div><div class="line">    <span class="keyword">return</span> preorder</div><div class="line"></div><div class="line"></div><div class="line">preorder = [<span class="number">3</span>, <span class="number">9</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">7</span>]</div><div class="line">inorder = [<span class="number">9</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">7</span>]</div><div class="line">postorder = [<span class="number">9</span>, <span class="number">15</span>, <span class="number">7</span>, <span class="number">20</span>, <span class="number">3</span>]</div><div class="line"></div><div class="line">print(pre_in_to_post(preorder, inorder))</div><div class="line">print(post_in_to_pre(postorder, inorder))</div></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[9, 15, 7, 20, 3]</div><div class="line">[3, 9, 20, 15, 7]</div></pre></td></tr></table></figure>
<hr>
<p>参考：</p>
<blockquote>
<p><a href="http://blog.csdn.net/simple_the_best/article/details/52713491" target="_blank" rel="external">http://blog.csdn.net/simple_the_best/article/details/52713491</a><br><a href="http://www.cnblogs.com/jackwang822/p/4749965.html" target="_blank" rel="external">http://www.cnblogs.com/jackwang822/p/4749965.html</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/19/LeetCode207/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/19/LeetCode207/" itemprop="url">
                  207. Course Schedule
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-19 12:42:35" itemprop="dateCreated datePublished" datetime="2017-11-19T12:42:35+08:00">2017-11-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:34" itemprop="dateModified" datetime="2018-07-10T13:38:34+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/19/LeetCode207/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/19/LeetCode207/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode.com/problems/course-schedule/description/" target="_blank" rel="external">https://leetcode.com/problems/course-schedule/description/</a></p>
<p><img src="/media/15110666065305.jpg" alt=""></p>
<h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>拓扑排序<br>有向无环图检测</p>
<p>对图的相关实现完全不懂，还是练得太少！！！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/17/LeetCode322/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/17/LeetCode322/" itemprop="url">
                  322. Coin Change
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-17 21:13:41" itemprop="dateCreated datePublished" datetime="2017-11-17T21:13:41+08:00">2017-11-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:31" itemprop="dateModified" datetime="2018-07-10T13:38:31+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/17/LeetCode322/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/17/LeetCode322/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode.com/problems/coin-change/description/" target="_blank" rel="external">https://leetcode.com/problems/coin-change/description/</a></p>
<p><img src="/media/15109244604670.jpg" alt=""></p>
<h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>贪心？</p>
<p>要考虑一些情况，比如：[1, 3, 4], amount = 6:<br>3 + 3是最优的</p>
<p>DP?</p>
<p>对amount吗？dp[n] = ?<br>dp[n] = min(dp[n-coins[i]]) + 1</p>
<p>写了一个dp的，但是有测试点没过，没耐心调了：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (amount == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        coins.erase(remove_if(coins.begin(), coins.end(), [amount](<span class="keyword">int</span> coin)&#123;<span class="keyword">return</span> coin &gt; amount;&#125;), coins.end());</div><div class="line">        <span class="keyword">if</span> (coins.empty())</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(amount + <span class="number">1</span>, INT_MAX - <span class="number">100</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> c : coins) &#123;</div><div class="line">            dp[c] = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = *<span class="built_in">std</span>::max_element(coins.begin(), coins.end()) + <span class="number">1</span>; i &lt;= amount; i++) &#123;</div><div class="line">            <span class="keyword">int</span> min = INT_MAX - <span class="number">100</span> + <span class="number">1</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; coins.size(); j++) &#123;</div><div class="line">                <span class="keyword">if</span> (dp[i - coins[j]] + <span class="number">1</span> &lt; min) &#123;</div><div class="line">                    min = dp[i - coins[j]] + <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            dp[i] = min;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (dp[amount] == INT_MAX - <span class="number">100</span> + <span class="number">1</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        <span class="keyword">return</span> dp[amount];</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>看了discussion，思路是一样的，就是一点也不清晰！！！</p>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(amount + <span class="number">1</span>, amount + <span class="number">1</span>);</div><div class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= amount; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; coins.size(); j++) &#123;</div><div class="line">                <span class="keyword">if</span> (coins[j] &lt;= i) &#123;</div><div class="line">                    dp[i] = min(dp[i], dp[i - coins[j]] + <span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> dp[amount] &gt; amount ? <span class="number">-1</span> : dp[amount];</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="想法-1"><a href="#想法-1" class="headerlink" title="想法"></a>想法</h2><p>为什么自己这么菜呢？？？</p>
<p>思路不清晰！！！<br>算法不熟练！！！</p>
<p>多练哇！！！<br>太菜啦！！！<br>菜到自己都看不下去啦！！！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/17/LeetCode659/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/17/LeetCode659/" itemprop="url">
                  659. Split Array into Consecutive Subsequences
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-17 11:27:38" itemprop="dateCreated datePublished" datetime="2017-11-17T11:27:38+08:00">2017-11-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:27" itemprop="dateModified" datetime="2018-07-10T13:38:27+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/17/LeetCode659/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/17/LeetCode659/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode.com/problems/split-array-into-consecutive-subsequences/description/" target="_blank" rel="external">https://leetcode.com/problems/split-array-into-consecutive-subsequences/description/</a></p>
<p><img src="/media/15108893221489.jpg" alt=""></p>
<h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>记录当前最大的两个<br>如果找到第三个，生成第一个split<br>重复上述步骤，直到结束</p>
<p>emm, 审题不清！！！<br>several subsequences.</p>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/16/LeetCode42/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/16/LeetCode42/" itemprop="url">
                  42. Trapping Rain Water
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-16 13:35:00" itemprop="dateCreated datePublished" datetime="2017-11-16T13:35:00+08:00">2017-11-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:24" itemprop="dateModified" datetime="2018-07-10T13:38:24+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/16/LeetCode42/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/16/LeetCode42/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode.com/problems/trapping-rain-water/description/" target="_blank" rel="external">https://leetcode.com/problems/trapping-rain-water/description/</a></p>
<p><img src="/media/15108105475270.jpg" alt=""></p>
<h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>每个块，直到遇到下一个&gt;=它的块，则存储确定…</p>
<p>每个块都假定能盛满，直到最后遇不到&gt;=自己的块</p>
<p>从左往右扫一遍，记录valid和如果valid所装的容量：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Bar</span> &#123;</span></div><div class="line">        <span class="keyword">int</span> s;</div><div class="line">        <span class="keyword">bool</span> v;</div><div class="line">        Bar() : s(<span class="number">0</span>), v(<span class="literal">false</span>) &#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</div><div class="line">        <span class="built_in">vector</span>&lt;Bar&gt; content(height.size());</div><div class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; height.size(); i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = s; j &lt; i &amp;&amp; content[j].v == <span class="literal">false</span>; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (height[j] &lt;= height[i]) &#123;</div><div class="line">                    content[j].v = <span class="literal">true</span>;</div><div class="line">                    <span class="keyword">if</span> (j == s)</div><div class="line">                        s = i;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    content[j].s += height[j] - height[i];</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> maxHeight = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; content.size(); i++) &#123;</div><div class="line">            <span class="keyword">if</span> (height[i] &gt;= maxHeight &amp;&amp; content[i].v) &#123;</div><div class="line">                maxHeight = height[i];</div><div class="line">                res += content[i].s;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>错误！！！<br>都没有考虑最基础的情况： [4, 2, 3]<br>自己的答案在这个情况下，认为4没有找到&gt;=它的，所以invalid，也就没有后边的容量了</p>
<hr>
<p>看了discussion，发现自己还是没有想到简单解决问题的关键：</p>
<blockquote>
<p>Here is my idea: instead of calculating area by height*width, we can think it in a cumulative way. In other words, sum water amount of each bin(width=1).<br>Search from left to right and maintain a max height of left and right separately, which is like a one-side wall of partial container. Fix the higher one and flow water from the lower part. For example, if current height of left is lower, we fill water in the left bin. Until left meets right, we filled the whole container.</p>
</blockquote>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> maxLeft = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> maxRight = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = height.size() - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</div><div class="line">            <span class="keyword">if</span> (height[l] &lt;= height[r]) &#123;</div><div class="line">                <span class="keyword">if</span> (height[l] &gt;= maxLeft)</div><div class="line">                    maxLeft = height[l];</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    res += maxLeft - height[l];</div><div class="line">                l++;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (height[r] &gt;= maxRight) &#123;</div><div class="line">                    maxRight = height[r];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    res += maxRight - height[r];</div><div class="line">                &#125;</div><div class="line">                r--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><p>记录左右的最高值，只要比本侧的最高值低且比另一侧低，就肯定会被填满…</p>
<p>抓住问题的管家哇，分析关系！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/14/LeetCode373/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/14/LeetCode373/" itemprop="url">
                  373.Find K Pairs with Smallest Sums
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-14 09:40:42" itemprop="dateCreated datePublished" datetime="2017-11-14T09:40:42+08:00">2017-11-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:21" itemprop="dateModified" datetime="2018-07-10T13:38:21+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/OJ/LeetCode/" itemprop="url" rel="index"><span itemprop="name">LeetCode</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/11/14/LeetCode373/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/11/14/LeetCode373/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode.com/problems/find-k-pairs-with-smallest-sums/description/" target="_blank" rel="external">https://leetcode.com/problems/find-k-pairs-with-smallest-sums/description/</a></p>
<p><img src="/media/15106236843191.jpg" alt=""></p>
<h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>一开始没有明确的想法，看了别人的思路之后明白…<br>用堆来实现，找最小值！<br>关键在于如何确定下一个可能的最小值！</p>
<ol>
<li>先把(0,0), (1,0), …, (n,0)放进去</li>
<li>从heap中不断pop最小</li>
<li>最小(i,j)的下一个候选是(i, j+1), <strong>关键</strong></li>
<li>把下一个候选push进去就可以了</li>
</ol>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; kSmallestPairs(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> k) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; res;</div><div class="line">        <span class="keyword">if</span> (nums1.empty() || nums2.empty() || k == <span class="number">0</span>)</div><div class="line">            <span class="keyword">return</span> res;</div><div class="line">        <span class="keyword">auto</span> comp = [nums1, nums2](pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; x, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; y) &#123;<span class="keyword">return</span> nums1[x.first] + nums2[x.second] &gt; nums1[y.first] + nums2[y.second];&#125;;</div><div class="line">        priority_queue&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;, <span class="keyword">decltype</span>(comp)&gt; q(comp);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums1.size(); i++) &#123;</div><div class="line">            q.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(i, <span class="number">0</span>));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</div><div class="line">            pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p = q.top();</div><div class="line">            q.pop();</div><div class="line">            res.push_back(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(nums1[p.first], nums2[p.second]));</div><div class="line">            <span class="keyword">if</span> (p.first == nums1.size() - <span class="number">1</span> &amp;&amp; p.second == nums2.size() - <span class="number">1</span>)</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">if</span> (p.second &lt; nums2.size() - <span class="number">1</span>)</div><div class="line">                q.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(p.first, p.second+<span class="number">1</span>));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><ol>
<li>找准关系，如何能确定下一个和当前最小值的比较</li>
<li>C++ priority_queue的使用</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/22/os_assignment_5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/22/os_assignment_5/" itemprop="url">
                  OS course assignment 5 Question 1&2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-10-22 16:26:37" itemprop="dateCreated datePublished" datetime="2017-10-22T16:26:37+08:00">2017-10-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:38:15" itemprop="dateModified" datetime="2018-07-10T13:38:15+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Others/" itemprop="url" rel="index"><span itemprop="name">Others</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/22/os_assignment_5/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/22/os_assignment_5/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Q1"><a href="#Q1" class="headerlink" title="Q1"></a>Q1</h2><p>Consider the following set of processes, with the length of the CPU-burst time given in milliseconds:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Process</th>
<th>Burst Time</th>
<th>Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td>P1</td>
<td>10</td>
<td>3</td>
</tr>
<tr>
<td>P2</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>P3</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>P4</td>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>P5</td>
<td>5</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<p>The processes are assumed to have arrived in the order P1, P2, P3, P4, P5, all at time 0.<br>a. Draw four Gantt charts illustrating the execution of these processes . using FCFS, SJF, a nonpreemptive priority (a smaller priority number implies a higher priority), and RR (quantum = 1) scheduling.<br>b. What is the turnaround time of each process for each of the scheduling algorithms in part a?<br>c. What is the waiting time of each process for each of the scheduling algorithms in part a?<br>d. Which of the schedules in part a results in the minimal average waiting time (over all processes)?</p>
<hr>
<h4 id="a"><a href="#a" class="headerlink" title="a."></a>a.</h4><p><img src="/media/15086608517485.jpg" alt=""></p>
<h4 id="b"><a href="#b" class="headerlink" title="b."></a>b.</h4><p>Turnaround time:<br><strong>FCFS:</strong> 10, 11, 13, 14, 19<br><strong>SJF:</strong> 19, 1, 4, 2, 9<br><strong>nonpreemptive priority:</strong> 16, 1, 18, 19, 6<br><strong>RR:</strong> 19, 2, 7, 4, 14</p>
<h4 id="c"><a href="#c" class="headerlink" title="c."></a>c.</h4><p>Waiting time:<br><strong>FCFS:</strong> 0, 10, 11, 13, 14<br><strong>SJF:</strong> 9, 0, 2, 1, 4<br><strong>nonpreemptive priority:</strong> 6, 0, 16, 18, 1<br><strong>RR:</strong> 9, 1, 5, 3, 9</p>
<h4 id="d"><a href="#d" class="headerlink" title="d."></a>d.</h4><p>Average waiting time:<br><strong>FCFS:</strong> 9.6<br><strong>SJF:</strong> 3.2<br><strong>nonpreemptive priority:</strong> 8.2<br><strong>RR:</strong> 5.4</p>
<p>SJF has minimal average waiting time.</p>
<h2 id="Q2"><a href="#Q2" class="headerlink" title="Q2"></a>Q2</h2><p>Assume three processes P1, P2, and P3:<br>P1 consists of one thread T11<br>P2 consists of three threads T21, T22, and T23<br>P3 consists of two threads T31 and T32.<br>The following are the CPU bursts for these processes and their threads:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>process</th>
<th>thread</th>
<th>cpu burst</th>
</tr>
</thead>
<tbody>
<tr>
<td>P1</td>
<td>T11</td>
<td>7</td>
</tr>
<tr>
<td>P2</td>
<td>T21</td>
<td>4</td>
</tr>
<tr>
<td></td>
<td>T22</td>
<td>2</td>
</tr>
<tr>
<td></td>
<td>T23</td>
<td>4</td>
</tr>
<tr>
<td>P3</td>
<td>T31</td>
<td>6</td>
</tr>
<tr>
<td></td>
<td>T32</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
<p>Assume that all threads arrive at the same time 0.<br>Show in gantt charts the execution of these processes using Round-Robin scheduler and Tq=5 time units:<br>(1) If the threads are user-level threads<br>(2) If the threads are kernel (OS) supported threads.<br>Calculate the waiting times (Tw) and turnaround times (Ttr) for each process and their average values for both cases (1) and (2).</p>
<hr>
<h4 id="Gantt-charts"><a href="#Gantt-charts" class="headerlink" title="Gantt charts:"></a>Gantt charts:</h4><p><img src="/media/15086608662569.jpg" alt=""></p>
<h4 id="Waiting-time"><a href="#Waiting-time" class="headerlink" title="Waiting time:"></a>Waiting time:</h4><p>(1):<br>P1: 15 - 5 = 10<br>P2: 5 + 17 - 10 = 12<br>P3: 10 + 22 - 15 = 17<br>average: 13<br>(2):<br>P1: 23 - 5 = 18<br>P2: 5<br>P3: 15 + 25 - 23 = 17<br>average: 13.3</p>
<h4 id="Turnaround-time"><a href="#Turnaround-time" class="headerlink" title="Turnaround time:"></a>Turnaround time:</h4><p>(1):<br>P1: 17<br>P2: 22<br>P3: 26<br>average: 65 / 3 = 21.7<br>(2):<br>P1: 25<br>P2: 15<br>P3: 25<br>average: 65 / 3 = 21.7</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/17/2017-10-17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/17/2017-10-17/" itemprop="url">
                  前端理解1.0
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-10-17 12:25:06" itemprop="dateCreated datePublished" datetime="2017-10-17T12:25:06+08:00">2017-10-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-22 22:38:46" itemprop="dateModified" datetime="2018-12-22T22:38:46+08:00">2018-12-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Web/" itemprop="url" rel="index"><span itemprop="name">Web</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/17/2017-10-17/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/17/2017-10-17/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>接触前端一年多点，有了些自己的理解，记下自己的心路历程，用以自勉。</p>
<h2 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h2><h3 id="前端很有趣"><a href="#前端很有趣" class="headerlink" title="前端很有趣"></a>前端很有趣</h3><p>…</p>
<h3 id="前端是个大坑"><a href="#前端是个大坑" class="headerlink" title="前端是个大坑"></a>前端是个大坑</h3><p>…</p>
<h3 id="基础还是最根本最真的东西"><a href="#基础还是最根本最真的东西" class="headerlink" title="基础还是最根本最真的东西"></a>基础还是最根本最真的东西</h3><p>最近真正开始做实际的东西，做一个小外包，简单的需求，页面要求也不复杂，但是发现，自己玩和做出来能看的东西之间的差距还是太大了。<br>总是想着用最新的东西，总是想用最爽的特性，总是想写优雅的结构，但是，一些基础的要求却不知道满足：完美还原设计稿了吗？浏览器兼容性够好吗？不同屏幕适配做好了吗？</p>
<p>发现，最基础的HTML，CSS，自己还只是入门。</p>
<p>HTML主要是H5中的一些新特性，自己还需要了解一下，不是只有div和a。</p>
<p>CSS自己还相当的不熟悉，不说一些”新特性“，动画之类的完全不了解，就基础的布局都需要搜半天才能找到best practice。</p>
<p>HTML与CSS，虽然发展不是很快，但恰恰证明这是很成熟，很基础的东西，这些搞懂，才能自如写界面。虽说过去部分人认为前端就是调布局，写页面这种想法在现在看来是错误的，但是不得不说，这些也是前端的根本，失去了根本，稿各种花里胡哨的框架结构，组织多么合理，结构多么优雅，都只是花瓶。</p>
<h2 id="回顾学习历程"><a href="#回顾学习历程" class="headerlink" title="回顾学习历程"></a>回顾学习历程</h2><ol>
<li>去年暑假开始看一些HTML、CSS之类的东西，没打算做什么，所以很低效。</li>
<li>完成一个报名表的页面，边学边写，学到了不少东西，初步了解了HTML，CSS，第一次使用CSS/JS外部库：BootStrap。</li>
<li>接触Vue，惊奇于这样精巧的组织方式以及一些绑定的理念，但只是专注于器，而不是道，同时缺乏实践，所以只是大致了解了其大致思想和样子吧。</li>
<li>再看JavaScript的一些基础语法与使用，熟练了一些，了解了一点ES6的东西，但只是皮毛的语法糖。</li>
<li>开始学习React并至今。弃Vue的原因是当时Vue比较新，一些IDE，文档，生态没有React那么好。思想很好，比较喜欢，在组织方式上很清晰，Component的划分与相应的行为设置很合理，但是感觉对初期的规划要求较高，不能乱糊，设计，分component还以有些讲究的。</li>
<li>进一步通过项目使用React，接触Redux与React Router，初步具备了用React生态写前端的能力。</li>
<li>接触了下React Native，因为思想完全相同，很亲切，由于这玩意不是很成熟，Bug比较多，写的体验很不好，毕竟没有安卓IOS数年的积淀，不过如果稳一些的话，依靠其跨平台的优势，的确很好，另一个优势在于界面布局上，感觉应该是优于原生开发的。</li>
<li>第一次做实际的前端，发现自己所学的还是太少，考虑的还是太少，发先自己在近一年的时间没怎么了解过HTML5和CSS，正在回顾这些基础和进一步理解JS的过程中。</li>
</ol>
<h2 id="再谈前端学习"><a href="#再谈前端学习" class="headerlink" title="再谈前端学习"></a>再谈前端学习</h2><p>现在看自己的前端学习路程，还是有些后悔的。</p>
<ol>
<li>没有在入门的时候好好学一些HTML，CSS而去搞各种框架，重器而不重道。</li>
<li>看的太多，写的太少，没怎么写实际的东西，现在才发现真正写起来和自己想象的还是很有差距的。</li>
</ol>
<p>额，可能这就是一个咸鱼者的心态，而不是一个踏踏实实的学习者的心态吧。</p>
<p>学前端，真的一定要去写，没有什么高深理论的东西，最好的学习方式就是直接去做！</p>
<h2 id="下一步规划"><a href="#下一步规划" class="headerlink" title="下一步规划"></a>下一步规划</h2><ol>
<li><strong>H5, CSS学习</strong> 看相关文档以及一些例子</li>
<li><strong>网页布局与效果研究</strong> 注意搜集好的网页布局或效果，尝试实现</li>
<li><strong>JS基础学习</strong> 看完JS高程，ES6知识</li>
<li><strong>阅读微型JS库的源码</strong> lodash之类的，一到两个</li>
<li><strong>MVVM思想学习</strong> 弄明白MVVM原理，比如看个backboneJS源码</li>
<li><strong>学习并掌握一个CSS拓展语言</strong> 选一个自己喜欢的，但要能够使用</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/16/2017-10-16/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/16/2017-10-16/" itemprop="url">
                  Ubuntu 编译内核及GRUB引导折腾记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-10-16 23:40:33" itemprop="dateCreated datePublished" datetime="2017-10-16T23:40:33+08:00">2017-10-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-10 13:36:15" itemprop="dateModified" datetime="2018-07-10T13:36:15+08:00">2018-07-10</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/16/2017-10-16/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/16/2017-10-16/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>对Linux的引导方式等不是很了解，终于还是付出了一晚上折腾的代价。</p>
<h2 id="编译内核"><a href="#编译内核" class="headerlink" title="编译内核"></a>编译内核</h2><p>按照Ubuntu Documentation上走，<a href="https://wiki.ubuntu.com/KernelTeam/GitKernelBuild。" target="_blank" rel="external">https://wiki.ubuntu.com/KernelTeam/GitKernelBuild。</a></p>
<p>每一步都比较清楚吧，1-11步走下来基本没有碰到问题。</p>
<p>唯一一个问题在于，make时，选核的数量2、3都不可以，这一点还是不解。</p>
<h2 id="GRUB相关使用"><a href="#GRUB相关使用" class="headerlink" title="GRUB相关使用"></a>GRUB相关使用</h2><p>本来引导不会去折腾它，但是装完的<code>Linux 4.14.0-rc5</code>似乎不支持IPV4，这很难过，想换回去。于是，去改grub。</p>
<h3 id="GRUB配置方式"><a href="#GRUB配置方式" class="headerlink" title="GRUB配置方式"></a>GRUB配置方式</h3><p><a href="https://help.ubuntu.com/community/Grub2/Setup" target="_blank" rel="external">https://help.ubuntu.com/community/Grub2/Setup</a></p>
<p><a href="https://help.ubuntu.com/community/Grub2/Setup#Configuring_GRUB_2" target="_blank" rel="external">https://help.ubuntu.com/community/Grub2/Setup#Configuring_GRUB_2</a></p>
<p><strong>配置方式：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/default/grub</div><div class="line">sudo update-grub</div></pre></td></tr></table></figure>
<p><strong>常用配置：</strong></p>
<ul>
<li><strong>GRUB_DEFAULT:</strong> 0, “…”, saved</li>
<li><strong>GRUB_SAVEDEFAULT:</strong> true</li>
</ul>
<hr>
<p>改完之后发现一个很严重的问题，不小心看错改成memtest了，很尴尬，而且，HIDDEN_TIMEOUT是0，都没机会弹出窗口，没办法，尝试LiveCD进入然后操作。</p>
<h3 id="外部系统修复GRUB"><a href="#外部系统修复GRUB" class="headerlink" title="外部系统修复GRUB"></a>外部系统修复GRUB</h3><p>在PD的虚拟机配置里，添加CD镜像，然后进入：</p>
<ol>
<li>mount相应盘</li>
<li>chroot</li>
<li>进行更改</li>
</ol>
<p>自己之前遇到没办法update-grub的问题，在网上找到了如下解决方法：</p>
<p><a href="https://askubuntu.com/questions/145241/how-do-i-run-update-grub-from-a-livecd" target="_blank" rel="external">https://askubuntu.com/questions/145241/how-do-i-run-update-grub-from-a-livecd</a></p>
<hr>
<p>最后，更新grub引导之后终于正常，长舒一口气。</p>
<p>还是需要学习一些知识啊。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/pic_reverse.png"
                alt="Xiaodong Zhao" />
            
              <p class="site-author-name" itemprop="name">Xiaodong Zhao</p>
              <p class="site-description motion-element" itemprop="description">Coder love Design</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">104</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/brickmaker" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:zhaoxiaodong0902@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaodong Zhao</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.3.8</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Mist</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  

  
    <script id="dsq-count-scr" src="https://brickmaker.disqus.com/count.js" async></script>
  

  





  












  





  

  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

    
  


  
  

  

  

  

  

  

</body>
</html>
