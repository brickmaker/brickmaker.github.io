<!DOCTYPE html>













<html class="theme-next mist" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.3.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="数值分析的8个LAB做完了，这八道题，可以说是自己做过的课程里边最难的作业了，最难但并不玄学！值得记下来，来纪念自己在这八道题上花费的时间和精力！ 这八道题似乎很多年没有变过了，所以，说不定对之后的学弟学妹估计有些帮助吧~  Q1. Numerical Summation of a Series题目6-1 Numerical Summation of a Series （30 分） Produce">
<meta property="og:type" content="article">
<meta property="og:title" content="NA(Numerical Analysis) Lab总结">
<meta property="og:url" content="http://yoursite.com/2019/01/20/NA_LAB-2019-01-20/index.html">
<meta property="og:site_name" content="Xiaodong&#39;s Blog">
<meta property="og:description" content="数值分析的8个LAB做完了，这八道题，可以说是自己做过的课程里边最难的作业了，最难但并不玄学！值得记下来，来纪念自己在这八道题上花费的时间和精力！ 这八道题似乎很多年没有变过了，所以，说不定对之后的学弟学妹估计有些帮助吧~  Q1. Numerical Summation of a Series题目6-1 Numerical Summation of a Series （30 分） Produce">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/media/15480024845015.jpg">
<meta property="og:image" content="http://yoursite.com/media/15480024943979.jpg">
<meta property="og:updated_time" content="2019-01-20T17:10:13.151Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NA(Numerical Analysis) Lab总结">
<meta name="twitter:description" content="数值分析的8个LAB做完了，这八道题，可以说是自己做过的课程里边最难的作业了，最难但并不玄学！值得记下来，来纪念自己在这八道题上花费的时间和精力！ 这八道题似乎很多年没有变过了，所以，说不定对之后的学弟学妹估计有些帮助吧~  Q1. Numerical Summation of a Series题目6-1 Numerical Summation of a Series （30 分） Produce">
<meta name="twitter:image" content="http://yoursite.com/media/15480024845015.jpg">






  <link rel="canonical" href="http://yoursite.com/2019/01/20/NA_LAB-2019-01-20/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>NA(Numerical Analysis) Lab总结 | Xiaodong's Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xiaodong's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Coder love Design</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/20/NA_LAB-2019-01-20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaodong Zhao">
      <meta itemprop="description" content="Coder love Design">
      <meta itemprop="image" content="/images/pic_reverse.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiaodong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">NA(Numerical Analysis) Lab总结
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-20 13:46:12" itemprop="dateCreated datePublished" datetime="2019-01-20T13:46:12+08:00">2019-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-01-21 01:10:13" itemprop="dateModified" datetime="2019-01-21T01:10:13+08:00">2019-01-21</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Math/" itemprop="url" rel="index"><span itemprop="name">Math</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Math/Numerical-Analysis/" itemprop="url" rel="index"><span itemprop="name">Numerical Analysis</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/01/20/NA_LAB-2019-01-20/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/01/20/NA_LAB-2019-01-20/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>数值分析的8个LAB做完了，这八道题，可以说是自己做过的课程里边最难的作业了，最难但并不玄学！值得记下来，来纪念自己在这八道题上花费的时间和精力！</p>
<p>这八道题似乎很多年没有变过了，所以，说不定对之后的学弟学妹估计有些帮助吧~</p>
<hr>
<h2 id="Q1-Numerical-Summation-of-a-Series"><a href="#Q1-Numerical-Summation-of-a-Series" class="headerlink" title="Q1. Numerical Summation of a Series"></a>Q1. Numerical Summation of a Series</h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p><strong>6-1 Numerical Summation of a Series （30 分）</strong></p>
<p>Produce a table of the values of the series</p>
<script type="math/tex; mode=display">\phi(x) = \sum_{k = 1}^{\infty} \frac{1}{k(k+x)} ......(1)</script><p>for the 3001 values of x, x = 0.0, 0.1, 0.2, …, 300.00. All entries of the table must have an absolute error less than $10^{-10}$. This problem is based on a problem from Hamming (1962), when mainframes were very slow by today’s microcomputer standards.</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Series_Sum</span><span class="params">( <span class="keyword">double</span> sum[] )</span></span>;</div></pre></td></tr></table></figure>
<p>where <code>double sum[]</code> is an array of 3001 entries, each contains a value of $\phi(x)$ for x = 0.0, 0.1, 0.2, …, 300.00.</p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Series_Sum</span><span class="params">( <span class="keyword">double</span> sum[] )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    <span class="keyword">double</span> x, sum[<span class="number">3001</span>];</div><div class="line">	</div><div class="line">    Series_Sum( sum );</div><div class="line"></div><div class="line">    x = <span class="number">0.0</span>;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">3001</span>; i++)</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%6.2f %16.12f\n"</span>, x + (<span class="keyword">double</span>)i * <span class="number">0.10</span>, sum[i]);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your function will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">0.00   1.644934066848</div><div class="line">0.10   1.534607244904</div><div class="line">...</div><div class="line">1.00   1.000000000000</div><div class="line">...</div><div class="line">2.00   0.750000000000</div><div class="line">...</div><div class="line">300.00   0.020942212934</div></pre></td></tr></table></figure>
<p><strong>Hint:</strong></p>
<p>The problem with summing the sequence in equation (1) is that too many terms may be required to complete the summation in the given time. Additionally, if enough terms were to be summed, roundoff would render any typical double precision computation useless for the desired precision.</p>
<p>To improve the convergence of the summation process note that:</p>
<script type="math/tex; mode=display">\frac{1}{k(k+1)} = \frac{1}{k} - \frac{1}{k + 1} ......(2)</script><p>which implies $\phi(1)=1.0$. One can then produce a series for $\phi(x) - \phi(1)$ which converges faster than the original series. This series not only converges much faster, it also reduces roundoff loss.</p>
<p>This process of finding a faster converging series may be repeated again on the second series to produce a third sequence, which converges even more rapidly than the second.</p>
<p>The following equation is helpful in determining how may items are required in summing the series above.</p>
<script type="math/tex; mode=display">\sum_{k = n}^{\infty}\frac{1}{k^r} < \int_{n - 1}^{\infty} \frac{1}{x^r}dx (k > 1, r > 1) ......(3)</script><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>先求1，2，…，300的值，整数的值公式比较直观，可以直接求得</p>
<p>按照提示上的方法，推导出递推公式，即用另外几个数的值来表示当前位置的值，比较复杂，也比较有趣</p>
<p>对于在[i, i + 1]区间内的小数，用递推公式运用后几个整数的值求得，我用的是i+1, i+2, i+3, i+4四个数</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ol>
<li>边界条件，如果用当前数的后四个数，到了297的时候，就不能继续向后走了，我选择的是297，298，299，300四个数来计算这个区间的数</li>
<li>注意C语言中乘法的int型和double型，尽管很注意，但是自己还是犯了错误</li>
</ol>
<h3 id="点评"><a href="#点评" class="headerlink" title="点评"></a>点评</h3><p>应该是最难也是最有意思的一道题了，这样的题让人做的很有感觉！</p>
<p>推导公式还是挺痛苦的，思路理不清，大概用了三个时间段，总共五六个小时吧，所以一开始做的时候不要怀疑自己而去网上找答案，自己推，推出来之后还是很有成就感的！</p>
<h2 id="Q2-Root-of-a-Polynomial"><a href="#Q2-Root-of-a-Polynomial" class="headerlink" title="Q2. Root of a Polynomial"></a>Q2. Root of a Polynomial</h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><p><strong>6-2 Root of a Polynomial （40 分）</strong></p>
<p>A polynomial of degree n has the common form as p(x)=c, $p(x) = c<em>nx^n + c</em>{n - 1}x^{n - 1} + \dots + c_1x + c_0$ . Your task is to write a function to find a root of a given polynomial in a given interval.</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Polynomial_Root</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> c[], <span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> EPS)</span></span>;</div></pre></td></tr></table></figure>
<p>where <code>int n</code> is the degree of the polynomial; <code>double c[]</code> is an array of n+1 coefficients $c<em>n, c</em>{n - 1}, …, c_1$ and $c_0$ of the given polynomial; <code>double a</code> and <code>b</code> are the two end-points of the given interval; and <code>double EPS</code> is the accuracy of the root.</p>
<p>The function must return the root.</p>
<p><strong>Note:</strong> <em>It is guaranteed that a unique real number r exists in the given interval such that $p(r)=0$.</em></p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ZERO 1e-13 <span class="comment">/* X is considered to be 0 if |X|&lt;ZERO */</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 11    <span class="comment">/* Max Polynomial Degree + 1 */</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Polynomial_Root</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> c[], <span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> EPS)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="keyword">double</span> c[MAXN], a, b;</div><div class="line">    <span class="keyword">double</span> EPS = <span class="number">0.00005</span>;</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (i=n; i&gt;=<span class="number">0</span>; i--) </div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;c[i]);</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>, &amp;a, &amp;b);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%.4f\n"</span>, Polynomial_Root(n, c, a, b, EPS));</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your function will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Input:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">2 1 1.5 -1</div><div class="line">0 2</div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0.5000</div></pre></td></tr></table></figure>
<h3 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h3><p>算法用Modified-Newton是可以的</p>
<p>需要求1阶和2阶导数，不过多项式求导很简单</p>
<p>初始点自己定，为了保证收敛，可以将给定的区间分成N等份，逐个试验是不是满足条件，我分的是100份</p>
<h3 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h3><p>这道题需要注意的地方还挺多的</p>
<ol>
<li>考虑分母为0的情况，如果分母为0，就可以认为不符合，直接取下一个初值重新来</li>
<li>考虑-0的情况，这应该是OJ的问题了，不过，自己稍微加一下没啥</li>
<li>初始点的选择，不能随便取一个或者几个，可以取几十个几百个，我取100个迭代也没有超时</li>
</ol>
<h3 id="点评-1"><a href="#点评-1" class="headerlink" title="点评"></a>点评</h3><p>坑的地方挺多的，自己也花了挺多的时间</p>
<p>还有，modified-newton method，真的很不明显，一开始在PPT和课本上都没有找到，复习的时候再课本的某段文字里发现了，不过可能modified-newton本来就不是一个专有名词吧</p>
<h2 id="Q3-There-is-No-Free-Lunch"><a href="#Q3-There-is-No-Free-Lunch" class="headerlink" title="Q3. There is No Free Lunch"></a>Q3. There is No Free Lunch</h2><h3 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h3><p><strong>6-3 There is No Free Lunch （40 分）</strong></p>
<p>One day, CYLL found an interesting piece of commercial from newspaper: the Cyber-restaurant was offering a kind of “Lunch Special” which was said that one could “buy one get two for free”. That is, if you buy one of the dishes on their menu, denoted by $d<em>i$ with price $p_i$, you may get the two neighboring dishes $d</em>{i - 1}$ and $d<em>{i+1}$ for free! If you pick up $d_1$, then you may get $d_2$ and the last one $d_n$ for free, and if you choose the last one $d_n$, you may get $d</em>{n - 1}$ and $d_1$ for free.</p>
<p>However, after investigation CYLL realized that there was no free lunch at all. The price $p_i$ of the i-th dish was actually calculated by adding up twice the cost $c_i$ of the dish and half of the costs of the two “free” dishes. Now given all the prices on the menu, you are asked to help CYLL find the cost of each of the dishes.</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Price</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> p[] )</span></span>;</div></pre></td></tr></table></figure>
<p>where <code>int n</code> satisfies that 2&lt; <code>n</code> ≤10000; <code>double p[]</code> is passed into the function as an array of prices $p_i$ and then will be returned storing the costs of the dishes.</p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Max_size 10000 <span class="comment">/* max number of dishes */</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Price</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> p[] )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n, i;</div><div class="line">    <span class="keyword">double</span> p[Max_size];</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;n; i++) </div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;p[i]);</div><div class="line">    Price(n, p);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;n; i++)</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%.2f "</span>, p[i]);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your function will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Input:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">12 23.64 17.39 12.77 16.62 10.67 14.85 12.68 26.90 28.30 15.59 37.99 23.18</div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">9.20 5.58 3.24 7.00 1.99 6.36 2.25 10.01 11.52 0.50 17.65 4.88</div></pre></td></tr></table></figure>
<h3 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h3><p>由题意不难得出一个方程组，其系数矩阵很有特征</p>
<p>自己知道有两种思路：</p>
<p>一种是对最后一行和第一行做处理，其它的都是一个完美的三对角矩阵，这样就可以比较轻松的解出来</p>
<p>另一种是直接用Jacobi迭代或者Gauss-Siedel迭代解方程</p>
<p>题目的本意我想肯定是前者，但是我用的后者，因为简单粗暴</p>
<h3 id="注意-2"><a href="#注意-2" class="headerlink" title="注意"></a>注意</h3><p>一个特别需要注意的地方，如果用迭代法做，自己想开一个二维数组存系数矩阵，并不可以，这道题的<code>Max_size</code>给的很大，会直接段错误，我估计case里边也有很大的系数矩阵，就算动态分配估计也不可以吧..<br>不过由于这个矩阵比较特殊，主对角线上的值就是最大的，而且每行的和相同，所以可以轻松的推出Jacobi迭代中自己需要的信息，而且写起来更简单</p>
<h3 id="点评-2"><a href="#点评-2" class="headerlink" title="点评"></a>点评</h3><p>好吧，用了简单粗暴的方式解决了本来还需要推导一番的问题，如果先做了第四题，那么这道题应该很容易了hh</p>
<h2 id="Q4-Compare-Methods-of-Jacobi-with-Gauss-Seidel"><a href="#Q4-Compare-Methods-of-Jacobi-with-Gauss-Seidel" class="headerlink" title="Q4. Compare Methods of Jacobi with Gauss-Seidel"></a>Q4. Compare Methods of Jacobi with Gauss-Seidel</h2><h3 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h3><p><strong>6-4 Compare Methods of Jacobi with Gauss-Seidel （30 分）</strong></p>
<p>Use Jacobi and Gauss-Seidel methods to solve a given $n\times n$ linear system $A\vec{x} = \vec{b}$ with an initial approximation $\vec{x^0}$<br>Note: When checking each $a<em>{ii}$, first scan downward for the entry with maximum absolute value ($a</em>{ii}$ included). If that entry is non-zero, swap it to the diagonal. Otherwise if that entry is zero, scan upward for the entry with maximum absolute value. If that entry is non-zero, then add that row to the i-th row.</p>
<p><strong>Format of functions:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Jacobi</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> b[], <span class="keyword">double</span> x[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Gauss_Seidel</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> b[], <span class="keyword">double</span> x[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN )</span></span>;</div></pre></td></tr></table></figure>
<p>where <code>int n</code> is the size of the matrix of which the entries are in the array <code>double a[][MAX_SIZE]</code> and <code>MAX_SIZE</code> is a constant defined by the judge; <code>double b[]</code> is for $\vec{b}$, <code>double x[]</code> passes in the initial approximation $\vec{x^0}$ and return the solution $\vec{x}$; double <code>TOL</code> is the tolerance for $\lVert \vec{x^{k+1}} - \vec{x^k} \rVert$; and finally <code>int MAXN</code> is the maximum number of iterations.</p>
<p>The function must return:</p>
<ul>
<li>k if there is a solution found after k iterations;</li>
<li>0 if maximum number of iterations exceeded;</li>
<li>1 if the matrix has a zero column and hence no unique solution exists;</li>
<li>2 if there is no convergence, that is, there is an entry of $\vec{x^K}$that is out of the range <code>[-bound, bound]</code> where <code>bound</code> is a constant defined by the judge.</li>
</ul>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_SIZE 10</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> bound pow(2, 127)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ZERO 1e-9 <span class="comment">/* X is considered to be 0 if |X|&lt;ZERO */</span></span></div><div class="line"></div><div class="line"><span class="keyword">enum</span> <span class="keyword">bool</span> &#123; <span class="literal">false</span> = <span class="number">0</span>, <span class="literal">true</span> = <span class="number">1</span> &#125;;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> bool enum bool</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Jacobi</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> b[], <span class="keyword">double</span> x[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Gauss_Seidel</span><span class="params">( <span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> b[], <span class="keyword">double</span> x[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n, MAXN, i, j, k;</div><div class="line">    <span class="keyword">double</span> a[MAX_SIZE][MAX_SIZE], b[MAX_SIZE], x[MAX_SIZE];</div><div class="line">    <span class="keyword">double</span> TOL;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;n; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;n; j++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;a[i][j]);</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;b[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf %d"</span>, &amp;TOL, &amp;MAXN);</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Result of Jacobi method:\n"</span>);</div><div class="line">    <span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;n; i++ )</div><div class="line">        x[i] = <span class="number">0.0</span>;</div><div class="line">    k = Jacobi( n, a, b, x, TOL, MAXN );</div><div class="line">    <span class="keyword">switch</span> ( k ) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">-2</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"No convergence.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">-1</span>: </div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Matrix has a zero column.  No unique solution exists.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Maximum number of iterations exceeded.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"no_iteration = %d\n"</span>, k);</div><div class="line">            <span class="keyword">for</span> ( j=<span class="number">0</span>; j&lt;n; j++ )</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%.8f\n"</span>, x[j]);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"Result of Gauss-Seidel method:\n"</span>);</div><div class="line">    <span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;n; i++ )</div><div class="line">        x[i] = <span class="number">0.0</span>;</div><div class="line">    k = Gauss_Seidel( n, a, b, x, TOL, MAXN );</div><div class="line">    <span class="keyword">switch</span> ( k ) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="number">-2</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"No convergence.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">-1</span>: </div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Matrix has a zero column.  No unique solution exists.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"Maximum number of iterations exceeded.\n"</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"no_iteration = %d\n"</span>, k);</div><div class="line">            <span class="keyword">for</span> ( j=<span class="number">0</span>; j&lt;n; j++ )</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%.8f\n"</span>, x[j]);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your function will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Input 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">2	-1	1	-1</div><div class="line">2	2	2	4</div><div class="line">-1	-1	2	-5</div><div class="line">0.000000001 1000</div></pre></td></tr></table></figure>
<p><strong>Sample Output 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Result of Jacobi method:</div><div class="line">No convergence.</div><div class="line">Result of Gauss-Seidel method:</div><div class="line">no_iteration = 37</div><div class="line">1.00000000</div><div class="line">2.00000000</div><div class="line">-1.00000000</div></pre></td></tr></table></figure>
<p><strong>Sample Input 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">1	2	-2	7</div><div class="line">1	1	1	2</div><div class="line">2	2	1	5</div><div class="line">0.000000001 1000</div></pre></td></tr></table></figure>
<p><strong>Sample Output 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Result of Jacobi method:</div><div class="line">no_iteration = 232</div><div class="line">1.00000000</div><div class="line">2.00000000</div><div class="line">-1.00000000</div><div class="line">Result of Gauss-Seidel method:</div><div class="line">No convergence.</div></pre></td></tr></table></figure>
<p><strong>Sample Input 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">5</div><div class="line">2 1 0 0 0 1</div><div class="line">1 2 1 0 0 1</div><div class="line">0 1 2 1 0 1</div><div class="line">0 0 1 2 1 1</div><div class="line">0 0 0 1 2 1</div><div class="line">0.000000001 100</div></pre></td></tr></table></figure>
<p><strong>Sample Output 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Result of Jacobi method:</div><div class="line">Maximum number of iterations exceeded.</div><div class="line">Result of Gauss-Seidel method:</div><div class="line">no_iteration = 65</div><div class="line">0.50000000</div><div class="line">0.00000000</div><div class="line">0.50000000</div><div class="line">0.00000000</div><div class="line">0.50000000</div></pre></td></tr></table></figure>
<h3 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h3><p>思路很清晰，两个算法也都给出了，就是把它实现一遍</p>
<p>课本上原模原样的算法抄上去就可以了</p>
<p>注意需要在之前按照题意对矩阵进行调整</p>
<h3 id="注意-3"><a href="#注意-3" class="headerlink" title="注意"></a>注意</h3><p>由于自己一遍过了，所以觉得没啥需要注意的，调整矩阵，题目中也提示到了</p>
<h3 id="点评-3"><a href="#点评-3" class="headerlink" title="点评"></a>点评</h3><p>第一道做出的题目，抄算法，所以觉得这道题没啥..</p>
<h2 id="Q5-Approximating-Eigenvalues"><a href="#Q5-Approximating-Eigenvalues" class="headerlink" title="Q5. Approximating Eigenvalues"></a>Q5. Approximating Eigenvalues</h2><h3 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a>题目</h3><p><strong>6-5 Approximating Eigenvalues （40 分）</strong></p>
<p>Approximate an eigenvalue and an associated eigenvector of $a$ given $n \times n$ matrix $A$ near $a$ given value $p$ and a nonzero vector $<br>\vec{x} = (x_1, \dots, x_n)^T$</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">EigenV</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> *lambda, <span class="keyword">double</span> v[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN)</span></span>;</div></pre></td></tr></table></figure>
<p>where <code>int</code> is the size of the matrix of which the entries are in the array <code>double a[][MAX_SIZE]</code> and <code>MAX_SIZE</code> is a constant defined by the judge; <code>double *lambda</code> is passed into the function as an initial approximation $p$ of the eigenvalue and is supposed to be returned as a more accurate eigenvalue; <code>double v[]</code> is passed into the function as the initial vector $\vec{x}$ and is supposed to be returned as the associated eigenvector with unit $\lVert \cdot \rVert$ norm; <code>double TOL</code> is the tolerance for the eigenvalue; and finally <code>int MAXN</code> is the maximum number of iterations.</p>
<p>The function must return:</p>
<ul>
<li>1 if there is a solution;</li>
<li>0 if maximum number of iterations exceeded;</li>
<li>−1 if p is just the accurate eigenvalue.</li>
</ul>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_SIZE 10</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">EigenV</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> a[][MAX_SIZE], <span class="keyword">double</span> *lambda, <span class="keyword">double</span> v[], <span class="keyword">double</span> TOL, <span class="keyword">int</span> MAXN)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n, MAXN, m, i, j, k;</div><div class="line">    <span class="keyword">double</span> a[MAX_SIZE][MAX_SIZE], v[MAX_SIZE];</div><div class="line">    <span class="keyword">double</span> lambda, TOL;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;n; i++) </div><div class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;n; j++) </div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;a[i][j]);</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf %d"</span>, &amp;TOL, &amp;MAXN);</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;m; i++) &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;lambda);</div><div class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;n; j++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;v[j]);</div><div class="line">        <span class="keyword">switch</span> (EigenV(n, a, &amp;lambda, v, TOL, MAXN)) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="number">-1</span>: </div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%12.8f is an eigenvalue.\n"</span>, lambda );</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"Maximum number of iterations exceeded.\n"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"%12.8f\n"</span>, lambda );</div><div class="line">                <span class="keyword">for</span> (k=<span class="number">0</span>; k&lt;n; k++)</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%12.8f "</span>, v[k]);</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your function will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Input 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line">1 2 3</div><div class="line">2 3 4</div><div class="line">3 4 5</div><div class="line">0.0000000001 1000</div><div class="line">1</div><div class="line">-0.6 1 1 1</div></pre></td></tr></table></figure>
<p><strong>Sample Output 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">-0.62347538</div><div class="line">  1.00000000   0.17206558  -0.65586885</div></pre></td></tr></table></figure>
<p><strong>Sample Input 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">0 1</div><div class="line">1 0</div><div class="line">0.0000000001 10</div><div class="line">2</div><div class="line">1.0 1 1</div><div class="line">100.0 1 0</div></pre></td></tr></table></figure>
<p><strong>Sample Output 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">  1.00000000 is an eigenvalue.</div><div class="line">Maximum number of iterations exceeded.</div></pre></td></tr></table></figure>
<h3 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h3><p>近似特征值的算法用反幂法是可以的</p>
<p>我按照书上的算法走的</p>
<p>书上的算法Step1是给p赋值，本题目中给定了初值，直接用它就可以</p>
<p>需要解线性方程组，直接解似乎会超时，需要做一个LU Factorization然后之后的每次计算用L和U矩阵而不是原始的A矩阵，如果LU factorization做不下去，那就是题目中说的给定值就是初始值了</p>
<h3 id="注意-4"><a href="#注意-4" class="headerlink" title="注意"></a>注意</h3><p>有两个需要注意的地方</p>
<ol>
<li>不要改掉原来的系数矩阵，因为每次迭代解方程的系数矩阵需要在原矩阵对角线上减去<code>lambda</code>，要在原来的矩阵上减，而不是一直减下去</li>
<li>课本上的算法有坑！至少英文版第七版上是不对的，Step8：$\mu = y_p$，而新的$p$是在Step9算的，所以Step8应该在Step9之后！</li>
</ol>
<h3 id="点评-4"><a href="#点评-4" class="headerlink" title="点评"></a>点评</h3><p>虽然这两个坑好像很多人踩，但我都没有踩到，也算是比较幸运的吧</p>
<p>代码量还是挺大的，比较烦，需要LU分解和解方程，不过都有算法，自己想想也不复杂</p>
<h2 id="Q6-Cubic-Spline"><a href="#Q6-Cubic-Spline" class="headerlink" title="Q6. Cubic Spline"></a>Q6. Cubic Spline</h2><h3 id="题目-5"><a href="#题目-5" class="headerlink" title="题目"></a>题目</h3><p><strong>6-6 Cubic Spline （40 分）</strong></p>
<p>Construct the cubic spline interpolant $S$ for the function $f$, defined at points $x_0 &lt; x_1 &lt; \dots &lt; x_n$, satisfying some given boundary conditions. Partition a given interval into $m$ equal-length subintervals, and approximate the function values at the endpoints of these subintervals.</p>
<p><strong>Format of functions:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cubic_Spline</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> x[], <span class="keyword">double</span> f[], <span class="keyword">int</span> Type, <span class="keyword">double</span> s0, <span class="keyword">double</span> sn, <span class="keyword">double</span> a[], <span class="keyword">double</span> b[], <span class="keyword">double</span> c[], <span class="keyword">double</span> d[])</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">S</span><span class="params">( <span class="keyword">double</span> t, <span class="keyword">double</span> Fmax, <span class="keyword">int</span> n, <span class="keyword">double</span> x[], <span class="keyword">double</span> a[], <span class="keyword">double</span> b[], <span class="keyword">double</span> c[], <span class="keyword">double</span> d[] )</span></span>;</div></pre></td></tr></table></figure>
<p>The function <code>Cubic_Spline</code> is for calculating the set of coefficients of<br>$S(x)$ where $S(x) = S^{[j]}(x) = a<em>j + b_j(x - x</em>{j - 1}) + c<em>j(x - x</em>{j - 1})^2 + d<em>j(x - x</em>{j - 2})^3$. The function <code>S</code> is for obtaining an approximation of $f(t)$ using the spline function $S(t)$. The parameters are defined as the following:</p>
<p><code>int n</code> is the number of interpolating points−1;<br><code>double x[]</code> contains n+1 distinct real numbers $x_0 &lt; x_1 &lt; \dots &lt; x_n$;<br><code>double f[]</code> contains n+1 real numbers $f(x_0), f(x_1), \dots ,f(x_n)$;<br><code>int Type</code> is the type of boundary conditions, where 1 corresponds to the clamped boundary condition $S’(x_0) = s_0, S’(x_n) = s_n$ and 2 corresponds to the natural boundary condition $S’’(x_0) = s_0, S’’(x_n) = s_n$;<br><code>double s0</code> and <code>double sn</code> are $s_0$ and $s_n$ respectively;<br><code>double a[]</code>, <code>b[]</code>, <code>c[]</code>, and <code>d[]</code> contain the set of coefficients of $S(x)$;<br><code>double t</code> is an endpoint of a subinterval;</p>
<p>and finally <code>double Fmax</code> is the default value that $S(t)$ will assume if t is out of the range $[x_0, x_n]$</p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_N 10</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cubic_Spline</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">double</span> x[], <span class="keyword">double</span> f[], <span class="keyword">int</span> Type, <span class="keyword">double</span> s0, <span class="keyword">double</span> sn, <span class="keyword">double</span> a[], <span class="keyword">double</span> b[], <span class="keyword">double</span> c[], <span class="keyword">double</span> d[])</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">S</span><span class="params">( <span class="keyword">double</span> t, <span class="keyword">double</span> Fmax, <span class="keyword">int</span> n, <span class="keyword">double</span> x[], <span class="keyword">double</span> a[], <span class="keyword">double</span> b[], <span class="keyword">double</span> c[], <span class="keyword">double</span> d[] )</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> n, Type, m, i;</div><div class="line">    <span class="keyword">double</span> x[MAX_N], f[MAX_N], a[MAX_N], b[MAX_N], c[MAX_N], d[MAX_N];</div><div class="line">    <span class="keyword">double</span> s0, sn, Fmax, t0, tm, h, t;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;=n; i++) </div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;x[i]);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;=n; i++) </div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;f[i]);</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %lf %lf %lf"</span>, &amp;Type, &amp;s0, &amp;sn, &amp;Fmax);</div><div class="line"></div><div class="line">    Cubic_Spline(n, x, f, Type, s0, sn, a, b, c, d);</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%12.8e %12.8e %12.8e %12.8e \n"</span>, a[i], b[i], c[i], d[i]);</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%lf %lf %d"</span>, &amp;t0, &amp;tm, &amp;m);</div><div class="line">    h = (tm-t0)/(<span class="keyword">double</span>)m;</div><div class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;=m; i++) &#123;</div><div class="line">        t = t0+h*(<span class="keyword">double</span>)i;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"f(%12.8e) = %12.8e\n"</span>, t, S(t, Fmax, n, x, a, b, c, d));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Your functions will be put here */</span></div></pre></td></tr></table></figure>
<p><strong>Sample Input:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">0.0 1.0 2.0</div><div class="line">0.0 1.0 2.0</div><div class="line">1 1.0 1.0 0.0</div><div class="line">0.0 3.0 2</div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">0.00000000e+00 1.00000000e+00 0.00000000e+00 0.00000000e+00 </div><div class="line">1.00000000e+00 1.00000000e+00 0.00000000e+00 0.00000000e+00 </div><div class="line">f(0.00000000e+00) = 0.00000000e+00</div><div class="line">f(1.50000000e+00) = 1.50000000e+00</div><div class="line">f(3.00000000e+00) = 0.00000000e+00</div></pre></td></tr></table></figure>
<h3 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h3><p>算法名称已经告诉了，书上也有现成的算法</p>
<p>有一个区别在于，本题目的Natural Cubic Spline并不是两端的二阶导为0，而是等于s0和sn. 这个需要对原算法做出一定的调整，其实就是推导出来的系数矩阵中的系数和右侧的首尾的值改一下就可以了..</p>
<h3 id="注意-5"><a href="#注意-5" class="headerlink" title="注意"></a>注意</h3><p>很坑的一点，很容易忽视的一点！！</p>
<p>如果发现自己总是2、3点过不了，有时候不一定是Spline算法的问题，而是自己写的S函数有问题！！我当时2、3点过不了，就是S函数的问题，注意区间、边界值之类的，反正多试几次应该就有了~</p>
<h3 id="点评-5"><a href="#点评-5" class="headerlink" title="点评"></a>点评</h3><p>唉，最后两个点，死活过不了，提交次数最多的一道题了！！</p>
<p>没想到啊没想到，竟然是<code>S</code>的问题而不是算法的问题，气死我了！！</p>
<h2 id="Q7-Orthogonal-Polynomials-Approximation"><a href="#Q7-Orthogonal-Polynomials-Approximation" class="headerlink" title="Q7. Orthogonal Polynomials Approximation"></a>Q7. Orthogonal Polynomials Approximation</h2><h3 id="题目-6"><a href="#题目-6" class="headerlink" title="题目"></a>题目</h3><p><strong>6-7 Orthogonal Polynomials Approximation （40 分）</strong></p>
<p>Given a function $f$ and a set of $m&gt;0$ distinct points $x<em>1 &lt; x_2 &lt; \dots &lt; x_m$. You are supposed to write a function to approximate $f$ by an orthogonal polynomial using the exact function values at the given m points with a weight $w(x_i)$ assigned to each point $x_i$. The total error $err =<br>sum</em>{i=1}^{m}w(x_i)|f(x_i) - P_n(x_i)|^2$ must be no larger than a given tolerance.</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int OPA( double (*f)(double t), int m, double x[], double w[], double c[], double *eps );</div></pre></td></tr></table></figure>
<p>where the function pointer <code>double (*f)(double t)</code> defines the function $f$; <code>int m</code> is the number of points; <code>double x[]</code> contains points $x_1 &lt; x_2 &lt; \dots &lt; x_m$; <code>double w[]</code> contains the values of a weight function at the given points <code>x[]</code>; <code>double c[]</code> contains the coefficients $c_1 &lt; c_2 &lt; \dots &lt; c_m$ of the approximation polynomial $P_n(x) = c_0 + c_1x + \dots + c_nx^n$; <code>double *eps</code> is passed into the function as the tolerance for the error, and is supposed to be returned as the value of error. The function <code>OPA</code> is supposed to return the degree of the approximation polynomial.</p>
<p>Note: a constant <code>Max_n</code> is defined so that if the total error is still not small enough when n = <code>Max_n</code>, simply output the result obtained when n = <code>Max_n</code>.</p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">#include &lt;stdio.h&gt;</div><div class="line">#include &lt;math.h&gt;</div><div class="line"></div><div class="line">#define MAX_m 200</div><div class="line">#define MAX_n 5</div><div class="line"></div><div class="line">double f1(double x)</div><div class="line">&#123;</div><div class="line">    return sin(x);</div><div class="line">&#125;</div><div class="line"></div><div class="line">double f2(double x)</div><div class="line">&#123;</div><div class="line">    return exp(x);</div><div class="line">&#125;</div><div class="line"></div><div class="line">int OPA( double (*f)(double t), int m, double x[], double w[], double c[], double *eps );</div><div class="line"></div><div class="line">void print_results( int n, double c[], double eps)</div><div class="line">&#123;	</div><div class="line">    int i;</div><div class="line"></div><div class="line">    printf("%d\n", n);</div><div class="line">    for (i=0; i&lt;=n; i++)</div><div class="line">        printf("%12.4e ", c[i]);</div><div class="line">    printf("\n");</div><div class="line">    printf("error = %9.2e\n", eps);</div><div class="line">    printf("\n");</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">    int m, i, n;</div><div class="line">    double x[MAX_m], w[MAX_m], c[MAX_n+1], eps;</div><div class="line"></div><div class="line">    m = 90;</div><div class="line">    for (i=0; i&lt;m; i++) &#123;</div><div class="line">        x[i] = 3.1415926535897932 * (double)(i+1) / 180.0;</div><div class="line">        w[i] = 1.0;</div><div class="line">    &#125;</div><div class="line">    eps = 0.001;</div><div class="line">    n = OPA(f1, m, x, w, c, &amp;eps);</div><div class="line">    print_results(n, c, eps);</div><div class="line"></div><div class="line">    m = 200;</div><div class="line">    for (i=0; i&lt;m; i++) &#123;</div><div class="line">        x[i] = 0.01*(double)i;</div><div class="line">        w[i] = 1.0;</div><div class="line">    &#125;</div><div class="line">    eps = 0.001;</div><div class="line">    n = OPA(f2, m, x, w, c, &amp;eps);</div><div class="line">    print_results(n, c, eps);</div><div class="line"></div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/* Your function will be put here */</div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">3</div><div class="line"> -2.5301e-03   1.0287e+00  -7.2279e-02  -1.1287e-01 </div><div class="line">error =  6.33e-05</div><div class="line"></div><div class="line">4</div><div class="line">  1.0025e+00   9.6180e-01   6.2900e-01   7.0907e-03   1.1792e-01 </div><div class="line">error =  1.62e-04</div></pre></td></tr></table></figure>
<h3 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h3><p>算法的话，按照PPT上的算法即可，不需要做太大的改动，注意需要求内积，自己写个内积函数</p>
<h3 id="注意-6"><a href="#注意-6" class="headerlink" title="注意"></a>注意</h3><p>很需要注意的一点，就是题目要求的是标准系数，而不是算法求出来每个项的系数，这是很需要注意的！！</p>
<p>当你算出来error是一样的，但是系数全部不一样的时候，绝大多数都是这个错误！</p>
<h3 id="点评-6"><a href="#点评-6" class="headerlink" title="点评"></a>点评</h3><p>课本上没有这个算法，自己搞懂原理之后，写出来一个，样例是可以过的，但是总是有些点过不了，改用PPT的算法就过了，差不多都是一样的，除了error的计算，它是一步步减的，我是最后算的，可是本质上是一样的，唉，不知道为什么，不过AC了，就不去想它了。</p>
<h2 id="Q8-Shape-Roof"><a href="#Q8-Shape-Roof" class="headerlink" title="Q8. Shape Roof"></a>Q8. Shape Roof</h2><h3 id="题目-7"><a href="#题目-7" class="headerlink" title="题目"></a>题目</h3><p><strong>6-8 Shape Roof （40 分）</strong></p>
<p>The kind of roof shown in Figure 1 is shaped from plain flat rectangular plastic board in Figure 2.</p>
<p><img src="/media/15480024845015.jpg" alt=""><br>Figure 1</p>
<p><img src="/media/15480024943979.jpg" alt=""><br>Figure 2</p>
<p>The transection of the roof is a sine curve which fits the function $y(x)=lsin(lx)$ in centimeters. Given the length of the roof, your task is to calculate the length of the flat board needed to shape the roof.</p>
<p><strong>Format of function:</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">double Integral(double a, double b, double (*f)(double x, double y, double z), double eps, double l, double t);</div></pre></td></tr></table></figure>
<p>where the function <code>Integral</code> returns the value of a definit integral of a given function pointed by <code>f</code> over a given interval from <code>double a</code> to <code>double b</code>. The integrant function <code>f</code> will be defined in the sample program of judge. Other parameters are: <code>double eps</code>, the accuracy of the resulting value of the integral; <code>double l</code> and <code>double t</code>, the altitude and the frequency of the sine curve, respectively.</p>
<p>Note: the length of the flat board which <code>Integral</code> returns must be in meters.</p>
<p><strong>Sample program of judge:</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">#include &lt;stdio.h&gt;</div><div class="line">#include &lt;math.h&gt;</div><div class="line"></div><div class="line">double f0( double x, double l, double t )</div><div class="line">&#123;</div><div class="line">    return sqrt(1.0+l*l*t*t*cos(t*x)*cos(t*x));</div><div class="line">&#125;</div><div class="line"></div><div class="line">double Integral(double a, double b, double (*f)(double x, double y, double z), </div><div class="line">double eps, double l, double t);</div><div class="line"></div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">    double a=0.0, b, eps=0.005, l, t;</div><div class="line"></div><div class="line">    scanf("%lf %lf %lf", &amp;l, &amp;b, &amp;t);</div><div class="line">    printf("%.2f\n", Integral(a, b, f0, eps, l, t));</div><div class="line"></div><div class="line">    return 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/* Your function will be put here */</div></pre></td></tr></table></figure>
<p><strong>Sample Input:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2 100 1</div></pre></td></tr></table></figure>
<p><strong>Sample Output:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">1.68</div></pre></td></tr></table></figure>
<h3 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a>思路</h3><p>就是一个积分，甚至积分公式的函数都给出来了，直接代入值就可以了</p>
<p>分成足够多的小段，矩形累加起来是可以过的</p>
<h3 id="注意-7"><a href="#注意-7" class="headerlink" title="注意"></a>注意</h3><p>没啥注意的，试几次总会过得</p>
<h3 id="点评-7"><a href="#点评-7" class="headerlink" title="点评"></a>点评</h3><p>笑死我了，题目本意肯定不是这样，不过，反正，四行代码，过了，就那样了，可能是今年的case要求不是很高吧，分了4000000段，都没有超时~</p>
<hr>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>八道题，除了第一道觉得很有意思之外，其它的基本上都有现成的算法，所以做过之后觉得还好..</p>
<p>感觉这种小数点后十几位的要求，有一定的玄学因素在里边，可能同样的算法，步骤顺序不同，结果就有差异..</p>
<p>不过这八道题做起来还是很有价值的，不是像PAT、LeetCode那样的一个算法知识点，需要的是对数学算法的实现，还是比较有趣的~</p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/10/koa-learn-3-2019-01-10/" rel="next" title="Koa源码学习（3）">
                <i class="fa fa-chevron-left"></i> Koa源码学习（3）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/pic_reverse.png"
                alt="Xiaodong Zhao" />
            
              <p class="site-author-name" itemprop="name">Xiaodong Zhao</p>
              <p class="site-description motion-element" itemprop="description">Coder love Design</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">100</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/brickmaker" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:zhaoxiaodong0902@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Q1-Numerical-Summation-of-a-Series"><span class="nav-number">1.</span> <span class="nav-text">Q1. Numerical Summation of a Series</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目"><span class="nav-number">1.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路"><span class="nav-number">1.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意"><span class="nav-number">1.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评"><span class="nav-number">1.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q2-Root-of-a-Polynomial"><span class="nav-number">2.</span> <span class="nav-text">Q2. Root of a Polynomial</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-1"><span class="nav-number">2.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-1"><span class="nav-number">2.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-1"><span class="nav-number">2.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-1"><span class="nav-number">2.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q3-There-is-No-Free-Lunch"><span class="nav-number">3.</span> <span class="nav-text">Q3. There is No Free Lunch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-2"><span class="nav-number">3.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-2"><span class="nav-number">3.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-2"><span class="nav-number">3.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-2"><span class="nav-number">3.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q4-Compare-Methods-of-Jacobi-with-Gauss-Seidel"><span class="nav-number">4.</span> <span class="nav-text">Q4. Compare Methods of Jacobi with Gauss-Seidel</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-3"><span class="nav-number">4.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-3"><span class="nav-number">4.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-3"><span class="nav-number">4.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-3"><span class="nav-number">4.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q5-Approximating-Eigenvalues"><span class="nav-number">5.</span> <span class="nav-text">Q5. Approximating Eigenvalues</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-4"><span class="nav-number">5.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-4"><span class="nav-number">5.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-4"><span class="nav-number">5.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-4"><span class="nav-number">5.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q6-Cubic-Spline"><span class="nav-number">6.</span> <span class="nav-text">Q6. Cubic Spline</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-5"><span class="nav-number">6.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-5"><span class="nav-number">6.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-5"><span class="nav-number">6.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-5"><span class="nav-number">6.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q7-Orthogonal-Polynomials-Approximation"><span class="nav-number">7.</span> <span class="nav-text">Q7. Orthogonal Polynomials Approximation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-6"><span class="nav-number">7.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-6"><span class="nav-number">7.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-6"><span class="nav-number">7.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-6"><span class="nav-number">7.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Q8-Shape-Roof"><span class="nav-number">8.</span> <span class="nav-text">Q8. Shape Roof</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-7"><span class="nav-number">8.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#思路-7"><span class="nav-number">8.2.</span> <span class="nav-text">思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-7"><span class="nav-number">8.3.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#点评-7"><span class="nav-number">8.4.</span> <span class="nav-text">点评</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">9.</span> <span class="nav-text">总结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaodong Zhao</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.3.8</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Mist</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  

  
    <script id="dsq-count-scr" src="https://brickmaker.disqus.com/count.js" async></script>
  

  
    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/01/20/NA_LAB-2019-01-20/';
        this.page.identifier = '2019/01/20/NA_LAB-2019-01-20/';
        this.page.title = 'NA(Numerical Analysis) Lab总结';
        };
      function loadComments () {
        var d = document, s = d.createElement('script');
        s.src = 'https://brickmaker.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      }
      
        loadComments();
      
    </script>
  





  












  





  

  

  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->

    
  


  
  

  

  

  

  

  

</body>
</html>
